{"ast":null,"code":"import React,{Fragment}from'react';import{Link}from'react-router-dom';import MetaData from'../layouts/MetaData';import{useAlert}from'react-alert';import{useDispatch,useSelector}from'react-redux';import{addItemsCart,removeItemFromCart}from'../../actions/cartActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Cart=function Cart(_ref){var history=_ref.history;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.cart;}),cartItems=_useSelector.cartItems;var increaseQty=function increaseQty(id,quantity,stock){var newQty=quantity+1;// console.log(\"stock\",stock)\nif(newQty>stock)return;dispatch(addItemsCart(id,newQty));};var decreaseQty=function decreaseQty(id,quantity,stock){var newQty=quantity-1;// console.log(\"stock\",stock)\nif(newQty<1)return;dispatch(addItemsCart(id,newQty));};var removeCartHandler=function removeCartHandler(id){dispatch(removeItemFromCart(id));};var checkoutHandler=function checkoutHandler(){history.push(\"/login?redirect=shipping\");};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'Your Cart'}),cartItems.length===0?/*#__PURE__*/_jsx(\"h2\",{className:\"mt-5\",children:\"Your Cart is Empty\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"mt-5\",children:[\"Your Cart: \",/*#__PURE__*/_jsxs(\"b\",{children:[cartItems.length,\" items\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-8\",children:cartItems.map(function(item){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-3\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"Laptop\",height:\"90\",width:\"115\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-5 col-lg-3\",children:/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(item.product),children:item.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-2 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsxs(\"p\",{id:\"card_item_price\",children:[\"$\",item.price]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-3 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"stockCounter d-inline\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-danger minus\",onClick:function onClick(){return decreaseQty(item.product,item.quantity);},children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control count d-inline\",value:item.quantity,readOnly:true}),/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-primary plus\",onClick:function onClick(){return increaseQty(item.product,item.quantity,item.stock);},children:\"+\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-1 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsx(\"i\",{id:\"delete_cart_item\",className:\"fa fa-trash btn btn-danger\",onClick:function onClick(){return removeCartHandler(item.product);}})})]})},item.product),/*#__PURE__*/_jsx(\"hr\",{})]});})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-3 my-4\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"order_summary\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Order Summary\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Subtotal:  \",/*#__PURE__*/_jsxs(\"span\",{className:\"order-summary-values\",children:[cartItems.reduce(function(acc,item){return acc+Number(item.quantity);},0),\" (Units)\"]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Est. total: \",/*#__PURE__*/_jsxs(\"span\",{className:\"order-summary-values\",children:[\"$\",cartItems.reduce(function(acc,item){return acc+item.quantity*item.price;},0).toFixed(2)]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"button\",{id:\"checkout_btn\",className:\"btn btn-primary btn-block\",onClick:checkoutHandler,children:\"Check out\"})]})})]})]})]});};export default Cart;","map":{"version":3,"sources":["/Users/ruchikaashokbharati/Documents/Projects/Ecommerce/Ecommerce-Backend-main/client/src/components/cart/Cart.js"],"names":["React","Fragment","Link","MetaData","useAlert","useDispatch","useSelector","addItemsCart","removeItemFromCart","Cart","history","dispatch","state","cart","cartItems","increaseQty","id","quantity","stock","newQty","decreaseQty","removeCartHandler","checkoutHandler","push","length","map","item","image","product","name","price","reduce","acc","Number","toFixed"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport MetaData from '../layouts/MetaData';\n\nimport { useAlert } from 'react-alert'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { addItemsCart, removeItemFromCart } from '../../actions/cartActions'\n\nconst Cart = ({ history }) => {\n\n    const dispatch = useDispatch();\n\n    const { cartItems } = useSelector(state => state.cart)\n    const increaseQty = (id,quantity,stock)=>{\n        const newQty = quantity+1;\n        // console.log(\"stock\",stock)\n        if(newQty>stock)\n        return\n       dispatch(addItemsCart(id,newQty));\n    }\n\n    const decreaseQty = (id,quantity,stock)=>{\n        const newQty = quantity - 1;\n        // console.log(\"stock\",stock)\n        if(newQty<1)\n        return\n       dispatch(addItemsCart(id,newQty));\n    }\n\n    const removeCartHandler = (id) =>{\n        dispatch(removeItemFromCart(id));\n    }\n    const checkoutHandler = ()=>{\n        history.push(\"/login?redirect=shipping\")\n    }\n    return (\n        <Fragment>\n            <MetaData title={'Your Cart'} />\n            {cartItems.length === 0 ? <h2 className=\"mt-5\">Your Cart is Empty</h2> : (\n                <>\n                    <h2 className=\"mt-5\">Your Cart: <b>{cartItems.length} items</b></h2>\n\n                    <div className=\"row d-flex justify-content-between\">\n                        <div className=\"col-12 col-lg-8\">\n\n                            {cartItems.map(item => (\n                                <>\n                                    <hr />\n\n                                    <div className=\"cart-item\" key={item.product}>\n                                        <div className=\"row\">\n                                            <div className=\"col-4 col-lg-3\">\n                                            <img src={item.image} alt=\"Laptop\" height=\"90\" width=\"115\" />\n                                            </div>\n\n                                            <div className=\"col-5 col-lg-3\">\n                                                <Link to={`/products/${item.product}`}>{item.name}</Link>\n                                            </div>\n\n\n                                            <div className=\"col-4 col-lg-2 mt-4 mt-lg-0\">\n                                                <p id=\"card_item_price\">${item.price}</p>\n                                            </div>\n\n                                            <div className=\"col-4 col-lg-3 mt-4 mt-lg-0\">\n                                                <div className=\"stockCounter d-inline\">\n                                                    <span className=\"btn btn-danger minus\" onClick={()=>decreaseQty(item.product,item.quantity)}>-</span>\n\n                                                    <input type=\"number\" className=\"form-control count d-inline\" value={item.quantity} readOnly />\n                                                    <span className=\"btn btn-primary plus\" onClick={()=>increaseQty(item.product,item.quantity,item.stock)}>+</span>\n                                                </div>\n                                            </div>\n\n                                            <div className=\"col-4 col-lg-1 mt-4 mt-lg-0\">\n                                                <i id=\"delete_cart_item\" className=\"fa fa-trash btn btn-danger\" onClick={()=>removeCartHandler(item.product)}  ></i>\n                                            </div>\n\n                                        </div>\n                                    </div>\n                                    <hr />\n                                </>\n                            ))}\n                             </div>\n\n<div className=\"col-12 col-lg-3 my-4\">\n    <div id=\"order_summary\">\n        <h4>Order Summary</h4>\n        <hr />\n        <p>Subtotal:  <span className=\"order-summary-values\">{cartItems.reduce((acc, item) => (acc + Number(item.quantity)), 0)} (Units)</span></p>\n        <p>Est. total: <span className=\"order-summary-values\">${cartItems.reduce((acc, item) => acc + item.quantity * item.price, 0).toFixed(2)}</span></p>\n\n        <hr />\n        <button id=\"checkout_btn\" className=\"btn btn-primary btn-block\" onClick={checkoutHandler}>Check out</button>\n    </div>\n</div>\n</div>\n</>\n )}\n </Fragment>\n)\n}\n\nexport default Cart"]},"metadata":{},"sourceType":"module"}