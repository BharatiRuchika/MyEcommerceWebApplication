{"ast":null,"code":"import axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport { STRIPE_REQUEST, STRIPE_SUCCESS } from \"../constants/stripeConstants\";\nexport const getStripeData = () => {\n  var _s = $RefreshSig$();\n\n  return _s(async dispatch => {\n    _s();\n\n    const {\n      token\n    } = useSelector(state => state.auth);\n    console.log(\"token\", token);\n\n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        'withCredentials': true\n      };\n      console.log(\"im in get stripe data  actions\");\n      dispatch({\n        type: STRIPE_REQUEST\n      }); //   const header = `Authorization: Bearer ${token}`;\n      // return axios.get(URLConstants.USER_URL, { headers: { header } });\n\n      const {\n        data\n      } = await axios.get(\"http://localhost:3001/user/payment/stripeApi\", config);\n      console.log(\"stripeData\", data);\n      dispatch({\n        type: STRIPE_SUCCESS,\n        payload: data.stripeApiKey\n      });\n    } catch (error) {\n      // dispatch({\n      //     type:ADMIN_PRODUCTS_FAIL,\n      //     payload:error.response.data.errMessage\n      // })\n      console.log(\"Error\", error);\n    }\n  }, \"HuWIDNSVXALprLH3avUitvg3hr4=\", false, function () {\n    return [useSelector];\n  });\n};","map":{"version":3,"sources":["/Users/ruchikaashokbharati/Documents/Projects/Ecommerce1/Ecommerce-Backend-main/client/src/actions/stripeActions.js"],"names":["axios","useSelector","STRIPE_REQUEST","STRIPE_SUCCESS","getStripeData","dispatch","token","state","auth","console","log","config","headers","type","data","get","payload","stripeApiKey","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAAQC,cAAR,EAAuBC,cAAvB,QAA4C,8BAA5C;AACA,OAAO,MAAMC,aAAa,GAAG;AAAA;;AAAA,YAAI,MAAOC,QAAP,IAAkB;AAAA;;AAE/C,UAAM;AAAEC,MAAAA;AAAF,QAAYL,WAAW,CAACM,KAAK,IAAIA,KAAK,CAACC,IAAhB,CAA7B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBJ,KAApB;;AACA,QAAG;AACC,YAAMK,MAAM,GAAC;AACTC,QAAAA,OAAO,EAAC;AACJ,0BAAe;AADX,SADC;AAIT,2BAAkB;AAJT,OAAb;AAMAH,MAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACFL,MAAAA,QAAQ,CAAC;AAACQ,QAAAA,IAAI,EAACX;AAAN,OAAD,CAAR,CARC,CASH;AACJ;;AACM,YAAM;AAACY,QAAAA;AAAD,UAAS,MAAMd,KAAK,CAACe,GAAN,CAAU,8CAAV,EAAyDJ,MAAzD,CAArB;AACFF,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyBI,IAAzB;AACAT,MAAAA,QAAQ,CAAC;AACLQ,QAAAA,IAAI,EAACV,cADA;AAELa,QAAAA,OAAO,EAACF,IAAI,CAACG;AAFR,OAAD,CAAR;AAIC,KAjBD,CAiBC,OAAMC,KAAN,EAAY;AACT;AACA;AACA;AACA;AACAT,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBQ,KAApB;AACH;AACJ,GA5B4B;AAAA,YAEPjB,WAFO;AAAA;AAAA,CAAtB","sourcesContent":["import axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport {STRIPE_REQUEST,STRIPE_SUCCESS} from \"../constants/stripeConstants\";\nexport const getStripeData = ()=>async (dispatch)=>{\n\n    const { token } = useSelector(state => state.auth)\n    console.log(\"token\",token);\n    try{\n        const config={\n            headers:{\n                'Content-Type':'multipart/form-data'\n            },\n            'withCredentials':true\n          }\n        console.log(\"im in get stripe data  actions\");\n      dispatch({type:STRIPE_REQUEST})\n    //   const header = `Authorization: Bearer ${token}`;\n// return axios.get(URLConstants.USER_URL, { headers: { header } });\n      const {data} = await axios.get(\"http://localhost:3001/user/payment/stripeApi\",config);\n    console.log(\"stripeData\",data)\n    dispatch({\n        type:STRIPE_SUCCESS,\n        payload:data.stripeApiKey\n    })\n    }catch(error){\n        // dispatch({\n        //     type:ADMIN_PRODUCTS_FAIL,\n        //     payload:error.response.data.errMessage\n        // })\n        console.log(\"Error\",error);\n    }\n}\n"]},"metadata":{},"sourceType":"module"}