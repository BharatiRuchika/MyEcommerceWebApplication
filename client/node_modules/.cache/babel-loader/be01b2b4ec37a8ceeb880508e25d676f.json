{"ast":null,"code":"import _asyncToGenerator from\"/Users/ruchikaashokbharati/Documents/Projects/Ecommerce/Ecommerce-Backend-main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/ruchikaashokbharati/Documents/Projects/Ecommerce/Ecommerce-Backend-main/client/node_modules/@babel/runtime/regenerator/index.js\";import{LOGIN_REQUEST,LOGIN_SUCCESS,LOGIN_FAIL,CLEAR_ERRORS,REGISTER_USER_FAIL,REGISTER_USER_SUCCESS,REGISTER_USER_REQUEST,LOAD_USER_FAIL,LOAD_USER_REQUEST,LOAD_USER_SUCCESS,LOGOUT_FAIL,LOGOUT_SUCCESS,UPDATE_PASSWORD_FAIL,UPDATE_PROFILE_SUCCESS,UPDATE_PASSWORD_REQUEST,UPDATE_PASSWORD_SUCCESS,UPDATE_PROFILE_FAIL,UPDATE_PROFILE_REQUEST,FORGOT_PASSWORD_FAIL,FORGOT_PASSWORD_REQUEST,FORGOT_PASSWORD_SUCCESS,NEW_PASSWORD_FAIL,NEW_PASSWORD_REQUEST,NEW_PASSWORD_SUCCESS,ALL_USERS_SUCCESS,ALL_USERS_REQUEST,ALL_USERS_FAIL,UPDATE_USER_SUCCESS,UPDATE_USER_REQUEST,UPDATE_USER_FAIL,USER_DETAILS_REQUEST,USER_DETAILS_SUCCESS,USER_DETAILS_FAIL,DELETE_USER_FAIL,DELETE_USER_REQUEST,DELETE_USER_SUCCESS}from\"../constants/userConstants\";// import { getStripeData} from '../actions/stripeActions';\nimport axios from\"axios\";//login\nexport var login=function login(email,password){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var config,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:LOGIN_REQUEST});config={headers:{'Content-Type':'application/json'}};_context.next=5;return axios.post(\"http://localhost:3001/auth/login\",{email:email,password:password},config);case 5:_yield$axios$post=_context.sent;data=_yield$axios$post.data;// console.log(\"loginuserdata\",data);\ndispatch({type:LOGIN_SUCCESS,payload:data.user});dispatch({type:\"AUTH\",payload:{token:data.token}});_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);//    console.log(\"im in login catch\");\n//    console.log(\"error\",error.response.data.errMessage);\ndispatch({type:LOGIN_FAIL,payload:_context.t0.response.data.errMessage});case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();};//register user\nexport var register=function register(userData){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var config,_yield$axios$post2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:REGISTER_USER_REQUEST});config={headers:{'Content-Type':'multipart/form-data'}};_context2.next=5;return axios.post(\"http://localhost:3001/auth/register\",userData,config);case 5:_yield$axios$post2=_context2.sent;data=_yield$axios$post2.data;//  console.log(\"registerdata\",data);\ndispatch({type:REGISTER_USER_SUCCESS,payload:data.user});_context2.next=14;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.log(\"error\",_context2.t0.response);dispatch({type:REGISTER_USER_FAIL,payload:_context2.t0.response.data.errMessage});case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};//load user\nexport var loadUser=function loadUser(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;dispatch({type:LOAD_USER_REQUEST});_context3.next=4;return axios.get(\"http://localhost:3001/auth/me\");case 4:_yield$axios$get=_context3.sent;data=_yield$axios$get.data;dispatch({type:LOAD_USER_SUCCESS,payload:data.user});// }\n_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);//   console.log(\"Error\",error);\ndispatch({type:LOAD_USER_FAIL,payload:_context3.t0.response.data.errMessage});case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};//logout user\nexport var logoutUser=function logoutUser(){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var _yield$axios$get2,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.get(\"http://localhost:3001/auth/logout\");case 3:_yield$axios$get2=_context4.sent;data=_yield$axios$get2.data;// console.log(\"logoutuserdata\",data);\ndispatch({type:LOGOUT_SUCCESS});_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);// console.log(\"logouterrpr\",error);\ndispatch({type:LOGOUT_FAIL,payload:_context4.t0.response.data.errMessage});case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[0,8]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};//register user\nexport var updateProfile=function updateProfile(userData,token){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var config,_yield$axios$put,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:// console.log(\"im in register\");\nconsole.log(\"im in update profile\");console.log(\"token\",token);_context5.prev=2;dispatch({type:UPDATE_PROFILE_REQUEST});config={headers:{'Content-Type':'application/json','Authorization':\"\".concat(token)}};_context5.next=7;return axios.put(\"http://localhost:3001/auth/me/update\",userData,config);case 7:_yield$axios$put=_context5.sent;data=_yield$axios$put.data;//  console.log(\"userdata\",data);\ndispatch({type:UPDATE_PROFILE_SUCCESS,payload:data.success});_context5.next=15;break;case 12:_context5.prev=12;_context5.t0=_context5[\"catch\"](2);dispatch({type:UPDATE_PROFILE_FAIL,payload:_context5.t0.response.data.errMessage});case 15:case\"end\":return _context5.stop();}}},_callee5,null,[[2,12]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};//update password\nexport var updatePassword=function updatePassword(passwords,token){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){var config,_config,_yield$axios$put2,data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:console.log(\"im in update password\");console.log(\"token\",token);config={headers:{'Content-Type':'application/json','Authorization':\"\".concat(token)}};_context6.prev=3;dispatch({type:UPDATE_PASSWORD_REQUEST});_config={headers:{'Content-Type':'application/json','Authorization':\"\".concat(token)}};_context6.next=8;return axios.put(\"http://localhost:3001/auth/password/updatepassword\",passwords,_config);case 8:_yield$axios$put2=_context6.sent;data=_yield$axios$put2.data;//  console.log(\"userdata\",data);\ndispatch({type:UPDATE_PASSWORD_SUCCESS,payload:data.success});_context6.next=16;break;case 13:_context6.prev=13;_context6.t0=_context6[\"catch\"](3);// console.log(\"error\",error.response);\ndispatch({type:UPDATE_PASSWORD_FAIL,payload:_context6.t0.response.data.errMessage});case 16:case\"end\":return _context6.stop();}}},_callee6,null,[[3,13]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();};//reset password\nexport var resetPassword=function resetPassword(token,passwords){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){var config,_yield$axios$put3,data;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;dispatch({type:NEW_PASSWORD_REQUEST});config={headers:{'Content-Type':'application/json'}};_context7.next=5;return axios.put(\"http://localhost:3001/auth/password/reset/\".concat(token),passwords,config);case 5:_yield$axios$put3=_context7.sent;data=_yield$axios$put3.data;//  console.log(\"userdata\",data);\ndispatch({type:NEW_PASSWORD_SUCCESS,payload:data.success});_context7.next=13;break;case 10:_context7.prev=10;_context7.t0=_context7[\"catch\"](0);// console.log(\"error\",error.response);\ndispatch({type:NEW_PASSWORD_FAIL,payload:_context7.t0.response.data.errMessage});case 13:case\"end\":return _context7.stop();}}},_callee7,null,[[0,10]]);}));return function(_x7){return _ref7.apply(this,arguments);};}();};//forgot password\nexport var forgotPassword=function forgotPassword(email){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){var config,_yield$axios$post3,data;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;dispatch({type:FORGOT_PASSWORD_REQUEST});config={headers:{'Content-Type':'application/json'}};_context8.next=5;return axios.post(\"http://localhost:3001/auth/password/forgot\",email,config);case 5:_yield$axios$post3=_context8.sent;data=_yield$axios$post3.data;//  console.log(\"userdata\",data);\ndispatch({type:FORGOT_PASSWORD_SUCCESS,payload:data.message});_context8.next=13;break;case 10:_context8.prev=10;_context8.t0=_context8[\"catch\"](0);// console.log(\"error\",error.response);\ndispatch({type:FORGOT_PASSWORD_FAIL,payload:_context8.t0.response.data.errMessage});case 13:case\"end\":return _context8.stop();}}},_callee8,null,[[0,10]]);}));return function(_x8){return _ref8.apply(this,arguments);};}();};export var getAllUsers=function getAllUsers(token){return/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(dispatch){var config,_yield$axios$get3,data;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:console.log(\"im in getallusers\",token);// console.log(\"im in get users\");\nconfig={headers:{'Content-Type':'application/json','Authorization':\"\".concat(token)}};_context9.prev=2;dispatch({type:ALL_USERS_REQUEST});_context9.next=6;return axios.get(\"http://localhost:3001/auth/admin/users\",config);case 6:_yield$axios$get3=_context9.sent;data=_yield$axios$get3.data;// console.log(\"Allusersdata\",data);\ndispatch({type:ALL_USERS_SUCCESS,payload:data.users});// }\n_context9.next=14;break;case 11:_context9.prev=11;_context9.t0=_context9[\"catch\"](2);//    console.log(\"im in cathc\");\n//    console.log(\"error\",error);\ndispatch({type:ALL_USERS_FAIL,payload:_context9.t0.response.data.errMessage});case 14:case\"end\":return _context9.stop();}}},_callee9,null,[[2,11]]);}));return function(_x9){return _ref9.apply(this,arguments);};}();};export var updateUser=function updateUser(id,userData,token){return/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(dispatch){var config,_yield$axios$put4,data;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.prev=0;console.log(\"im in update user\");console.log(\"token\",token);dispatch({type:UPDATE_USER_REQUEST});config={headers:{'Content-Type':'application/json','Authorization':\"\".concat(token)}};_context10.next=7;return axios.put(\"http://localhost:3001/auth/admin/user/\".concat(id),userData,config);case 7:_yield$axios$put4=_context10.sent;data=_yield$axios$put4.data;dispatch({type:UPDATE_USER_SUCCESS,payload:data.success});_context10.next=15;break;case 12:_context10.prev=12;_context10.t0=_context10[\"catch\"](0);dispatch({type:UPDATE_USER_FAIL,payload:_context10.t0.response.data.errMessage});case 15:case\"end\":return _context10.stop();}}},_callee10,null,[[0,12]]);}));return function(_x10){return _ref10.apply(this,arguments);};}();};export var getUserDetails=function getUserDetails(id){return/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(dispatch){var _yield$axios$get4,data;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.prev=0;dispatch({type:USER_DETAILS_REQUEST});_context11.next=4;return axios.get(\"http://localhost:3001/auth/admin/user/\".concat(id));case 4:_yield$axios$get4=_context11.sent;data=_yield$axios$get4.data;dispatch({type:USER_DETAILS_SUCCESS,payload:data.user});_context11.next=12;break;case 9:_context11.prev=9;_context11.t0=_context11[\"catch\"](0);dispatch({type:USER_DETAILS_FAIL,payload:_context11.t0.response.data.errMessage});case 12:case\"end\":return _context11.stop();}}},_callee11,null,[[0,9]]);}));return function(_x11){return _ref11.apply(this,arguments);};}();};// Delete user - ADMIN\nexport var deleteUser=function deleteUser(id){return/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(dispatch){var _yield$axios$delete,data;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.prev=0;dispatch({type:DELETE_USER_REQUEST});_context12.next=4;return axios.delete(\"http://localhost:3001/auth/admin/user/\".concat(id));case 4:_yield$axios$delete=_context12.sent;data=_yield$axios$delete.data;//   console.log(\"deleteData\",data);  \ndispatch({type:DELETE_USER_SUCCESS,payload:data.success});_context12.next=12;break;case 9:_context12.prev=9;_context12.t0=_context12[\"catch\"](0);dispatch({type:DELETE_USER_FAIL,payload:_context12.t0.response.data.errMessage});case 12:case\"end\":return _context12.stop();}}},_callee12,null,[[0,9]]);}));return function(_x12){return _ref12.apply(this,arguments);};}();};//clear error\nexport var clearErrors=function clearErrors(){return/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(dispatch){return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:dispatch({type:CLEAR_ERRORS});case 1:case\"end\":return _context13.stop();}}},_callee13);}));return function(_x13){return _ref13.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/ruchikaashokbharati/Documents/Projects/Ecommerce/Ecommerce-Backend-main/client/src/actions/userActions.js"],"names":["LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAIL","CLEAR_ERRORS","REGISTER_USER_FAIL","REGISTER_USER_SUCCESS","REGISTER_USER_REQUEST","LOAD_USER_FAIL","LOAD_USER_REQUEST","LOAD_USER_SUCCESS","LOGOUT_FAIL","LOGOUT_SUCCESS","UPDATE_PASSWORD_FAIL","UPDATE_PROFILE_SUCCESS","UPDATE_PASSWORD_REQUEST","UPDATE_PASSWORD_SUCCESS","UPDATE_PROFILE_FAIL","UPDATE_PROFILE_REQUEST","FORGOT_PASSWORD_FAIL","FORGOT_PASSWORD_REQUEST","FORGOT_PASSWORD_SUCCESS","NEW_PASSWORD_FAIL","NEW_PASSWORD_REQUEST","NEW_PASSWORD_SUCCESS","ALL_USERS_SUCCESS","ALL_USERS_REQUEST","ALL_USERS_FAIL","UPDATE_USER_SUCCESS","UPDATE_USER_REQUEST","UPDATE_USER_FAIL","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAIL","DELETE_USER_FAIL","DELETE_USER_REQUEST","DELETE_USER_SUCCESS","axios","login","email","password","dispatch","type","config","headers","post","data","payload","user","token","response","errMessage","register","userData","console","log","loadUser","get","logoutUser","updateProfile","put","success","updatePassword","passwords","resetPassword","forgotPassword","message","getAllUsers","users","updateUser","id","getUserDetails","deleteUser","delete","clearErrors"],"mappings":"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","sourcesContent":["import {LOGIN_REQUEST,LOGIN_SUCCESS,LOGIN_FAIL,CLEAR_ERRORS,REGISTER_USER_FAIL,REGISTER_USER_SUCCESS,REGISTER_USER_REQUEST,\nLOAD_USER_FAIL,LOAD_USER_REQUEST,LOAD_USER_SUCCESS,LOGOUT_FAIL,LOGOUT_SUCCESS,\nUPDATE_PASSWORD_FAIL,UPDATE_PROFILE_SUCCESS,UPDATE_PASSWORD_REQUEST,UPDATE_PASSWORD_SUCCESS,UPDATE_PROFILE_FAIL,UPDATE_PROFILE_REQUEST,\nFORGOT_PASSWORD_FAIL,\nFORGOT_PASSWORD_REQUEST,\nFORGOT_PASSWORD_SUCCESS,\nNEW_PASSWORD_FAIL,\nNEW_PASSWORD_REQUEST,\nNEW_PASSWORD_SUCCESS,\nALL_USERS_SUCCESS,\nALL_USERS_REQUEST,\nALL_USERS_FAIL,\nUPDATE_USER_SUCCESS,\nUPDATE_USER_REQUEST,\nUPDATE_USER_FAIL,\nUSER_DETAILS_REQUEST,\nUSER_DETAILS_SUCCESS,\nUSER_DETAILS_FAIL,\nDELETE_USER_FAIL,\nDELETE_USER_REQUEST,\nDELETE_USER_SUCCESS\n} from \"../constants/userConstants\";\n\n// import { getStripeData} from '../actions/stripeActions';\nimport axios from \"axios\";\n\n//login\nexport const login = (email,password)=>async(dispatch)=>{\n    \n    // console.log(\"im in login\");\n   try{\n     dispatch({\n         type:LOGIN_REQUEST\n    })\n    const config={\n      headers:{\n          'Content-Type':'application/json'\n      }\n    }\nconst {data} = await axios.post(\"http://localhost:3001/auth/login\",{email,password},config)\n// console.log(\"loginuserdata\",data);\ndispatch({\n    type:LOGIN_SUCCESS,\n    payload:data.user\n})\ndispatch({\n    type: \"AUTH\",\n    payload: { token: data.token },\n  });\n   }catch(error){\n    //    console.log(\"im in login catch\");\n    //    console.log(\"error\",error.response.data.errMessage);\n    dispatch({\n        type:LOGIN_FAIL,\n        payload:error.response.data.errMessage\n    })\n   }\n}\n\n//register user\nexport const register = (userData)=>async(dispatch)=>{\n    // console.log(\"im in register\");\n    try{\n      dispatch({\n          type:REGISTER_USER_REQUEST\n     })\n     const config={\n       headers:{\n           'Content-Type':'multipart/form-data'\n       }\n     }\n const {data} = await axios.post(\"http://localhost:3001/auth/register\",userData,config)\n//  console.log(\"registerdata\",data);\n dispatch({\n     type:REGISTER_USER_SUCCESS,\n     payload:data.user\n })\n \n    }catch(error){\n        console.log(\"error\",error.response);\n     dispatch({\n         type:REGISTER_USER_FAIL,\n         payload:error.response.data.errMessage\n     })\n    }\n }\n\n //load user\n export const loadUser = ()=>async(dispatch)=>{\n    //  console.log(\"im in load user\");\n    try{\n      dispatch({\n          type:LOAD_USER_REQUEST\n     })\n    \n const {data} = await axios.get(\"http://localhost:3001/auth/me\");\n dispatch({\n     type:LOAD_USER_SUCCESS,\n     payload:data.user\n })\n// }\n    }catch(error){\n    //   console.log(\"Error\",error);\n     dispatch({\n         type:LOAD_USER_FAIL,\n         payload:error.response.data.errMessage\n     })\n    }\n }\n\n //logout user\n export const logoutUser = ()=>async(dispatch)=>{\n    // console.log(\"im in load user\");\n   try{\n  const {data} = await axios.get(\"http://localhost:3001/auth/logout\");\n// console.log(\"logoutuserdata\",data);\ndispatch({\n    type:LOGOUT_SUCCESS\n})\n}catch(error){\n    // console.log(\"logouterrpr\",error);\n    dispatch({\n        type:LOGOUT_FAIL,\n        payload:error.response.data.errMessage\n    })\n   }\n}\n\n//register user\nexport const updateProfile = (userData,token)=>async(dispatch)=>{\n    // console.log(\"im in register\");\n    console.log(\"im in update profile\")\n    console.log(\"token\",token)\n    try{\n      dispatch({\n          type:UPDATE_PROFILE_REQUEST\n     })\n     const config={\n        headers:{\n            'Content-Type':'application/json',\n            'Authorization':`${token}`\n        }\n      }\n const {data} = await axios.put(\"http://localhost:3001/auth/me/update\",userData,config)\n//  console.log(\"userdata\",data);\n dispatch({\n     type:UPDATE_PROFILE_SUCCESS,\n     payload:data.success\n })\n \n    }catch(error){\n     dispatch({\n         type:UPDATE_PROFILE_FAIL,\n         payload:error.response.data.errMessage\n     })\n    }\n }\n\n//update password\nexport const updatePassword = (passwords,token)=>async(dispatch)=>{\n    console.log(\"im in update password\");\n    console.log(\"token\",token);\n    const config={\n        headers:{\n            'Content-Type':'application/json',\n            'Authorization':`${token}`\n        }\n      }\n    try{\n      dispatch({\n          type:UPDATE_PASSWORD_REQUEST\n     })\n     const config={\n        headers:{\n            'Content-Type':'application/json',\n            'Authorization':`${token}`\n        }\n      }\n const {data} = await axios.put(\"http://localhost:3001/auth/password/updatepassword\",passwords,config)\n//  console.log(\"userdata\",data);\n dispatch({\n     type:UPDATE_PASSWORD_SUCCESS,\n     payload:data.success\n })\n \n    }catch(error){\n        // console.log(\"error\",error.response);\n     dispatch({\n         type:UPDATE_PASSWORD_FAIL,\n         payload:error.response.data.errMessage\n     })\n    }\n }\n\n //reset password\n export const resetPassword = (token,passwords)=>async(dispatch)=>{\n    // console.log(\"im in new password\");\n    try{\n      dispatch({\n          type:NEW_PASSWORD_REQUEST\n     })\n     const config={\n       headers:{\n           'Content-Type':'application/json'\n       }\n     }\n const {data} = await axios.put(`http://localhost:3001/auth/password/reset/${token}`,passwords,config)\n//  console.log(\"userdata\",data);\n dispatch({\n     type:NEW_PASSWORD_SUCCESS,\n     payload:data.success\n })\n \n    }catch(error){\n        // console.log(\"error\",error.response);\n     dispatch({\n         type:NEW_PASSWORD_FAIL,\n         payload:error.response.data.errMessage\n     })\n    }\n }\n\n  //forgot password\n  export const forgotPassword = (email)=>async(dispatch)=>{\n    // console.log(\"im in forgot password\");\n    // console.log(\"email\",email);\n    try{\n      dispatch({\n          type:FORGOT_PASSWORD_REQUEST\n     })\n     const config={\n       headers:{\n           'Content-Type':'application/json'\n       }\n     }\n const {data} = await axios.post(\"http://localhost:3001/auth/password/forgot\",email,config)\n//  console.log(\"userdata\",data);\n dispatch({\n     type:FORGOT_PASSWORD_SUCCESS,\n     payload:data.message\n })\n \n    }catch(error){\n        // console.log(\"error\",error.response);\n     dispatch({\n         type:FORGOT_PASSWORD_FAIL,\n         payload:error.response.data.errMessage\n     })\n    }\n }\n\n export const getAllUsers = (token)=>async(dispatch)=>{\n    console.log(\"im in getallusers\",token);\n    // console.log(\"im in get users\");\n    const config={\n        headers:{\n            'Content-Type':'application/json',\n            'Authorization':`${token}`\n        }\n      }\n   try{\n     dispatch({\n         type:ALL_USERS_REQUEST\n    })\n   \nconst {data} = await axios.get(\"http://localhost:3001/auth/admin/users\",config);\n// console.log(\"Allusersdata\",data);\n\ndispatch({\n    type:ALL_USERS_SUCCESS,\n    payload:data.users\n})\n// }\n   }catch(error){\n    //    console.log(\"im in cathc\");\n    //    console.log(\"error\",error);\n    dispatch({\n        type:ALL_USERS_FAIL,\n        payload:error.response.data.errMessage\n    })\n   }\n}\n\n\nexport const updateUser = (id, userData,token) => async (dispatch) => {\n    try {\nconsole.log(\"im in update user\");\nconsole.log(\"token\",token);\n        dispatch({ type: UPDATE_USER_REQUEST })\n\n        const config = {\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization':`${token}`\n            }\n        }\n\n        const { data } = await axios.put(`http://localhost:3001/auth/admin/user/${id}`, userData, config)\n\n        dispatch({\n            type: UPDATE_USER_SUCCESS,\n            payload: data.success\n        })\n\n    } catch (error) {\n        dispatch({\n            type: UPDATE_USER_FAIL,\n            payload: error.response.data.errMessage\n        })\n    }\n}\n\nexport const getUserDetails = (id) => async (dispatch) => {\n    try {\n\n    dispatch({ type: USER_DETAILS_REQUEST })\n const { data } = await axios.get(`http://localhost:3001/auth/admin/user/${id}`)\n\n        dispatch({\n            type: USER_DETAILS_SUCCESS,\n            payload: data.user\n        })\n\n    } catch (error) {\n        dispatch({\n            type: USER_DETAILS_FAIL,\n            payload: error.response.data.errMessage\n        })\n    }\n}\n\n// Delete user - ADMIN\nexport const deleteUser = (id) => async (dispatch) => {\n    // console.log(\"im in delete user\")\n    // console.log(\"id\",id);\n    try {\n\n dispatch({ type: DELETE_USER_REQUEST })\n  const { data } = await axios.delete(`http://localhost:3001/auth/admin/user/${id}`);\n//   console.log(\"deleteData\",data);  \n  dispatch({\n            type: DELETE_USER_SUCCESS,\n            payload: data.success\n        })\n\n    } catch (error) {\n        dispatch({\n            type: DELETE_USER_FAIL,\n            payload: error.response.data.errMessage\n        })\n    }\n}\n//clear error\nexport const clearErrors = ()=>async(dispatch)=>{\n    dispatch({\n        type:CLEAR_ERRORS\n    })\n }"]},"metadata":{},"sourceType":"module"}