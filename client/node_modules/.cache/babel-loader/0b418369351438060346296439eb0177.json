{"ast":null,"code":"import _objectSpread from\"/Users/ruchikaashokbharati/Documents/Projects/Ecommerce/Ecommerce-Backend-main/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/Users/ruchikaashokbharati/Documents/Projects/Ecommerce/Ecommerce-Backend-main/client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"component\"];import React from'react';import{Route,Redirect}from\"react-router-dom\";import{useSelector}from'react-redux';import loader from'sass-loader';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProtectedRoute=function ProtectedRoute(_ref){var Component=_ref.component,rest=_objectWithoutProperties(_ref,_excluded);var _useSelector=useSelector(function(state){return state.auth;}),isAdmin=_useSelector.isAdmin,isAuthenticated=_useSelector.isAuthenticated,user=_useSelector.user,loading=_useSelector.loading;// console.log(\"im in protected route\");\n// console.log(\"isAuthenticated\", isAuthenticated);\n// console.log(\"loading\", loading);\nreturn/*#__PURE__*/_jsx(_Fragment,{children:loading===false&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:function render(props){if(isAuthenticated===false){return/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});}if(isAdmin===true&&user.role!==\"admin\"){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}return/*#__PURE__*/_jsx(Component,_objectSpread({},props));}}))})});};export default ProtectedRoute;","map":{"version":3,"sources":["/Users/ruchikaashokbharati/Documents/Projects/Ecommerce/Ecommerce-Backend-main/client/src/components/route/ProtectedRoute.js"],"names":["React","Route","Redirect","useSelector","loader","ProtectedRoute","Component","component","rest","state","auth","isAdmin","isAuthenticated","user","loading","props","role"],"mappings":"qYAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,CAAgBC,QAAhB,KAAgC,kBAAhC,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,aAAnB,C,gGACA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,MAAuC,IAAzBC,CAAAA,SAAyB,MAApCC,SAAoC,CAAXC,IAAW,0CAC1D,iBAAoDL,WAAW,CAAC,SAAAM,KAAK,QAAIA,CAAAA,KAAK,CAACC,IAAV,EAAN,CAA/D,CAAQC,OAAR,cAAQA,OAAR,CAAiBC,eAAjB,cAAiBA,eAAjB,CAAkCC,IAAlC,cAAkCA,IAAlC,CAAwCC,OAAxC,cAAwCA,OAAxC,CACA;AACA;AACA;AACA,mBACI,yBACKA,OAAO,GAAK,KAAZ,eAAsB,sCACnB,KAAC,KAAD,gCAAWN,IAAX,MAAiB,MAAM,CACnB,gBAAAO,KAAK,CAAI,CACL,GAAIH,eAAe,GAAK,KAAxB,CAA+B,CAC3B,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAAP,CACH,CACD,GAAID,OAAO,GAAK,IAAZ,EAAoBE,IAAI,CAACG,IAAL,GACpB,OADJ,CACa,CACT,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAP,CACH,CACD,mBAAO,KAAC,SAAD,kBAAeD,KAAf,EAAP,CAEH,CAXL,GADmB,EAD3B,EADJ,CAkBH,CAvBD,CAyBA,cAAeV,CAAAA,cAAf","sourcesContent":["import React from 'react'\nimport { Route, Redirect } from \"react-router-dom\";\nimport { useSelector } from 'react-redux';\nimport loader from 'sass-loader';\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\n    const { isAdmin, isAuthenticated, user, loading } = useSelector(state => state.auth);\n    // console.log(\"im in protected route\");\n    // console.log(\"isAuthenticated\", isAuthenticated);\n    // console.log(\"loading\", loading);\n    return (\n        <>\n            {loading === false && (<>\n                <Route {...rest} render={\n                    props => {\n                        if (isAuthenticated === false) {\n                            return <Redirect to=\"/login\"></Redirect>\n                        }\n                        if (isAdmin === true && user.role !==\n                            \"admin\") {\n                            return <Redirect to=\"/\"></Redirect>\n                        }\n                        return <Component {...props} />\n\n                    }\n                }></Route>\n            </>)}\n        </>)\n}\n\nexport default ProtectedRoute\n"]},"metadata":{},"sourceType":"module"}