{"ast":null,"code":"import React,{useState}from'react';import{Link}from'react-router-dom';import MetaData from'../layouts/MetaData';import{useAlert}from'react-alert';import{useSelector}from'react-redux';import CheckoutSteps from\"./checkoutSteps\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ConfirmOrder=function ConfirmOrder(_ref){var history=_ref.history;var _useSelector=useSelector(function(state){return state.cart;}),cartItems=_useSelector.cartItems,ShippingInfo=_useSelector.ShippingInfo;var _useSelector2=useSelector(function(state){return state.auth;}),user=_useSelector2.user;var itemPrice=cartItems.reduce(function(acc,item){return acc+item.price*item.quantity;},0);var shippingPrice=itemPrice>200?0:25;var taxPrice=Number((0.05*itemPrice).toFixed(2));var totalPrice=(shippingPrice+taxPrice+itemPrice).toFixed(2);var proceedToPayment=function proceedToPayment(){// console.log(\"im in proceed to payment\")\nvar data={itemPrice:itemPrice.toFixed(2),shippingPrice:shippingPrice,taxPrice:taxPrice,totalPrice:totalPrice};sessionStorage.setItem('orderInfo',JSON.stringify(data));history.push(\"/payment\");};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'Shipping Info'}),/*#__PURE__*/_jsx(CheckoutSteps,{shipping:true,confirmOrder:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"row d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-lg-8 mt-5 order-confirm\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-3\",children:\"Shipping Info\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Name:\"}),\" \",user&&user.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Phone:\"}),\" \",ShippingInfo.phoneNo]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Address:\"}),\"`$\",ShippingInfo.address,\"`+`,`+`$\",ShippingInfo.city,\"`+`,`+`$\",ShippingInfo.postalCode,\"`+`,`+$\",ShippingInfo.country,\"`\"]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h4\",{className:\"mt-4\",children:\"Your Cart Items:\"}),cartItems.map(function(item){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item my-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-2\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"Laptop\",height:\"45\",width:\"65\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-5 col-lg-6\",children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.product),children:item.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-4 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsxs(\"p\",{children:[item.quantity,\" x $\",item.price,\"= \",/*#__PURE__*/_jsxs(\"b\",{children:[\"$\",(item.quantity*item.price).toFixed(2)]})]})})]})},item.product),/*#__PURE__*/_jsx(\"hr\",{})]});})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-3 my-4\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"order_summary\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Order Summary\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Subtotal:  \",/*#__PURE__*/_jsxs(\"span\",{className:\"order-summary-values\",children:[\"$\",itemPrice]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Shipping: \",/*#__PURE__*/_jsxs(\"span\",{className:\"order-summary-values\",children:[\"$\",shippingPrice]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Tax:  \",/*#__PURE__*/_jsxs(\"span\",{className:\"order-summary-values\",children:[\"$\",taxPrice]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total: \",/*#__PURE__*/_jsxs(\"span\",{className:\"order-summary-values\",children:[\"$\",totalPrice]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"button\",{id:\"checkout_btn\",className:\"btn btn-primary btn-block\",onClick:proceedToPayment,children:\"Proceed to Payment\"})]})})]})]});};export default ConfirmOrder;","map":{"version":3,"sources":["/Users/ruchikaashokbharati/Documents/Projects/Ecommerce/Ecommerce-Backend-main/client/src/components/cart/ConfirmOrder.js"],"names":["React","useState","Link","MetaData","useAlert","useSelector","CheckoutSteps","ConfirmOrder","history","state","cart","cartItems","ShippingInfo","auth","user","itemPrice","reduce","acc","item","price","quantity","shippingPrice","taxPrice","Number","toFixed","totalPrice","proceedToPayment","data","sessionStorage","setItem","JSON","stringify","push","name","phoneNo","address","city","postalCode","country","map","image","product"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport MetaData from '../layouts/MetaData';\n\nimport { useAlert } from 'react-alert';\nimport { useSelector } from 'react-redux'\n\nimport CheckoutSteps from \"./checkoutSteps\";\n\nconst ConfirmOrder = ({history}) => {\n  \n    const {cartItems,ShippingInfo} = useSelector(state=>state.cart);\n    const {user} = useSelector(state=>state.auth);\n    const itemPrice = cartItems.reduce((acc,item)=>acc+item.price*item.quantity,0)\n    const shippingPrice = itemPrice>200?0:25;\n    const taxPrice = Number((0.05*itemPrice).toFixed(2));\n    const totalPrice = (shippingPrice+taxPrice+itemPrice).toFixed(2);\n    const proceedToPayment = ()=>{\n        // console.log(\"im in proceed to payment\")\n        const data = {\n            itemPrice:itemPrice.toFixed(2),\n            shippingPrice,\n            taxPrice,\n            totalPrice\n        }\n        sessionStorage.setItem('orderInfo',JSON.stringify(data));\n        history.push(\"/payment\");\n    }\n    return (\n        <>\n       <MetaData title={'Shipping Info'}></MetaData>\n       <CheckoutSteps shipping confirmOrder></CheckoutSteps>\n       <div className=\"row d-flex justify-content-between\">\n            <div className=\"col-12 col-lg-8 mt-5 order-confirm\">\n\n                <h4 className=\"mb-3\">Shipping Info</h4>\n                <p><b>Name:</b> {user && user.name}</p>\n                <p><b>Phone:</b> {ShippingInfo.phoneNo}</p>\n                <p className=\"mb-4\"><b>Address:</b>`${ShippingInfo.address}`+`,`+`${ShippingInfo.city}`+`,`+`${ShippingInfo.postalCode}`+`,`+${ShippingInfo.country}`</p>\n                \n                <hr />\n                <h4 className=\"mt-4\">Your Cart Items:</h4>\n                {cartItems.map(item=>(\n                    <>\n                    \n\n<hr />\n<div className=\"cart-item my-1\" key={item.product}>\n    <div className=\"row\">\n        <div className=\"col-4 col-lg-2\">\n            <img src={item.image} alt=\"Laptop\" height=\"45\" width=\"65\"/>\n        </div>\n\n        <div className=\"col-5 col-lg-6\">\n            <Link to={`/product/${item.product}`}>{item.name}</Link>\n        </div>\n        <div className=\"col-4 col-lg-4 mt-4 mt-lg-0\">\n            <p>{item.quantity} x ${item.price}= <b>${(item.quantity*item.price).toFixed(2)}</b></p>\n        </div>\n\n    </div>\n</div>\n<hr />\n                    </>\n                ))}\n               \n               \n\n            </div>\n\t\t\t\n\t\t\t<div className=\"col-12 col-lg-3 my-4\">\n                    <div id=\"order_summary\">\n                        <h4>Order Summary</h4>\n                        <hr />\n                        <p>Subtotal:  <span className=\"order-summary-values\">${itemPrice}</span></p>\n                        <p>Shipping: <span className=\"order-summary-values\">${shippingPrice}</span></p>\n                        <p>Tax:  <span className=\"order-summary-values\">${taxPrice}</span></p>\n\n                        <hr />\n                        <p>Total: <span className=\"order-summary-values\">${totalPrice}</span></p>\n\n<hr />\n<button id=\"checkout_btn\" className=\"btn btn-primary btn-block\" onClick={proceedToPayment}>Proceed to Payment</button>\n</div>\n</div>\n\n\n</div>\n\n       </>\n    )\n}\n\nexport default ConfirmOrder\n"]},"metadata":{},"sourceType":"module"}