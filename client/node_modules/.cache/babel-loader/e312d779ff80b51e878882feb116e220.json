{"ast":null,"code":"import axios from \"axios\";\nimport { CREATE_ORDER_FAIL, CREATE_ORDER_SUCCESS, CREATE_ORDER_REQUEST, CLEAR_ERRORS, MY_ORDERS_FAIL, MY_ORDERS_SUCCESS, MY_ORDERS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_DETAILS_REQUEST, ORDER_DETAILS_FAIL, ALL_ORDERS_SUCCESS, ALL_ORDERS_REQUEST, ALL_ORDERS_FAIL, UPDATE_ORDER_SUCCESS, UPDATE_ORDER_REQUEST, UPDATE_ORDER_FAIL, DELETE_ORDER_REQUEST, DELETE_ORDER_SUCCESS, DELETE_ORDER_FAIL } from \"../constants/orderConstants\";\nexport const createOrder = order => async (dispatch, getState) => {\n  // console.log(\"im in create order\");\n  // console.log(\"order\",order);\n  try {\n    dispatch({\n      type: CREATE_ORDER_REQUEST\n    });\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const {\n      data\n    } = await axios.post(\"http://localhost:3001/order/neworder\", order, config); //    console.log(\"order Data\",data);\n\n    dispatch({\n      type: CREATE_ORDER_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: CREATE_ORDER_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //get currently logged in user orders\n\nexport const myOrders = () => async (dispatch, getState) => {\n  // console.log(\"im in myorder\");\n  try {\n    dispatch({\n      type: MY_ORDERS_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(\"http://localhost:3001/order/myorders\"); //    console.log(\"data\",data);\n\n    dispatch({\n      type: MY_ORDERS_SUCCESS,\n      payload: data.orders\n    });\n  } catch (error) {\n    dispatch({\n      type: MY_ORDERS_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //get specific order details\n\nexport const orderDetails = id => async (dispatch, getState) => {\n  // console.log(\"im in order details\");\n  try {\n    dispatch({\n      type: ORDER_DETAILS_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`http://localhost:3001/order/singleorder/${id}`); //    console.log(\"data\",data);\n\n    dispatch({\n      type: ORDER_DETAILS_SUCCESS,\n      payload: data.order\n    });\n  } catch (error) {\n    dispatch({\n      type: ORDER_DETAILS_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //get all orders details\n\nexport const getAllOrders = () => async (token, dispatch, getState) => {\n  console.log(\"im in getAllOrders\", token);\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `${token}`\n    }\n  }; // console.log(\"im in order details\");\n\n  try {\n    dispatch({\n      type: ALL_ORDERS_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`http://localhost:3001/order/admin/orders`, config); //    console.log(\"data\",data);\n\n    dispatch({\n      type: ALL_ORDERS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: ALL_ORDERS_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //update order-admin\n\nexport const updateOrder = (id, orderData) => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: UPDATE_ORDER_REQUEST\n    });\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const {\n      data\n    } = await axios.put(`http://localhost:3001/order/admin/orders/${id}`, orderData, config); //    console.log(\"updateData\",data);\n\n    dispatch({\n      type: UPDATE_ORDER_SUCCESS,\n      payload: data.success\n    });\n  } catch (error) {\n    dispatch({\n      type: UPDATE_ORDER_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n};\nexport const deleteOrder = id => async dispatch => {\n  try {\n    dispatch({\n      type: DELETE_ORDER_REQUEST\n    });\n    const {\n      data\n    } = await axios.delete(`http://localhost:3001/order/admin/orders/${id}`); //    console.log(\"deleteData\",data.success);\n\n    dispatch({\n      type: DELETE_ORDER_SUCCESS,\n      payload: data.success\n    });\n  } catch (error) {\n    dispatch({\n      type: DELETE_ORDER_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //clear error\n\nexport const clearErrors = () => async dispatch => {\n  dispatch({\n    type: CLEAR_ERRORS\n  });\n};","map":{"version":3,"sources":["/Users/ruchikaashokbharati/Documents/Projects/Ecommerce1/Ecommerce-Backend-main/client/src/actions/orderActions.js"],"names":["axios","CREATE_ORDER_FAIL","CREATE_ORDER_SUCCESS","CREATE_ORDER_REQUEST","CLEAR_ERRORS","MY_ORDERS_FAIL","MY_ORDERS_SUCCESS","MY_ORDERS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_REQUEST","ORDER_DETAILS_FAIL","ALL_ORDERS_SUCCESS","ALL_ORDERS_REQUEST","ALL_ORDERS_FAIL","UPDATE_ORDER_SUCCESS","UPDATE_ORDER_REQUEST","UPDATE_ORDER_FAIL","DELETE_ORDER_REQUEST","DELETE_ORDER_SUCCESS","DELETE_ORDER_FAIL","createOrder","order","dispatch","getState","type","config","headers","data","post","payload","error","response","errMessage","myOrders","get","orders","orderDetails","id","getAllOrders","token","console","log","updateOrder","orderData","put","success","deleteOrder","delete","clearErrors"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { CREATE_ORDER_FAIL,CREATE_ORDER_SUCCESS,CREATE_ORDER_REQUEST,CLEAR_ERRORS,MY_ORDERS_FAIL,MY_ORDERS_SUCCESS,MY_ORDERS_REQUEST,ORDER_DETAILS_SUCCESS,ORDER_DETAILS_REQUEST,ORDER_DETAILS_FAIL,ALL_ORDERS_SUCCESS,ALL_ORDERS_REQUEST,ALL_ORDERS_FAIL,UPDATE_ORDER_SUCCESS,UPDATE_ORDER_REQUEST,UPDATE_ORDER_FAIL,\n    DELETE_ORDER_REQUEST,\n   DELETE_ORDER_SUCCESS,\n  DELETE_ORDER_FAIL } from \"../constants/orderConstants\";\nexport const createOrder = (order)=>async(dispatch,getState)=>{\n    // console.log(\"im in create order\");\n    // console.log(\"order\",order);\n    try{\n       dispatch({\n           type:CREATE_ORDER_REQUEST\n       })\n       const config = {\n         headers:{\n             \"Content-Type\":\"application/json\"\n         }\n       }\n       const {data} = await axios.post(\"http://localhost:3001/order/neworder\",order,config);\n    //    console.log(\"order Data\",data);\n       dispatch({\n           type:CREATE_ORDER_SUCCESS,\n           payload:data\n       })\n    }catch(error){\n        dispatch({\n            type:CREATE_ORDER_FAIL,\n            payload:error.response.data.errMessage\n        })\n    }\n}\n\n//get currently logged in user orders\nexport const myOrders = ()=>async(dispatch,getState)=>{\n    // console.log(\"im in myorder\");\n    try{\n       dispatch({\n           type:MY_ORDERS_REQUEST\n       })\n       \n       const {data} = await axios.get(\"http://localhost:3001/order/myorders\");\n    //    console.log(\"data\",data);\n       dispatch({\n           type:MY_ORDERS_SUCCESS,\n           payload:data.orders\n       })\n    }catch(error){\n        dispatch({\n            type:MY_ORDERS_FAIL,\n            payload:error.response.data.errMessage\n        })\n    }\n}\n\n//get specific order details\nexport const orderDetails = (id)=>async(dispatch,getState)=>{\n\n    // console.log(\"im in order details\");\n    try{\n       dispatch({\n           type:ORDER_DETAILS_REQUEST\n       })\n       \nconst {data} = await axios.get(`http://localhost:3001/order/singleorder/${id}`);\n    //    console.log(\"data\",data);\n       dispatch({\n           type:ORDER_DETAILS_SUCCESS,\n           payload:data.order\n       })\n    }catch(error){\n        dispatch({\n            type:ORDER_DETAILS_FAIL,\n            payload:error.response.data.errMessage\n        })\n    }\n}\n\n\n//get all orders details\nexport const getAllOrders = ()=>async(token,dispatch,getState)=>{\n\n    console.log(\"im in getAllOrders\",token);\n    const config={\n        headers:{\n            'Content-Type':'application/json',\n            'Authorization':`${token}`\n        }\n      }\n    // console.log(\"im in order details\");\n    try{\n       dispatch({\n           type:ALL_ORDERS_REQUEST\n       })\n       \nconst {data} = await axios.get(`http://localhost:3001/order/admin/orders`,config);\n    //    console.log(\"data\",data);\n       dispatch({\n           type:ALL_ORDERS_SUCCESS,\n           payload:data\n       })\n    }catch(error){\n        dispatch({\n            type:ALL_ORDERS_FAIL,\n            payload:error.response.data.errMessage\n        })\n    }\n}\n\n//update order-admin\nexport const updateOrder = (id,orderData)=>async(dispatch,getState)=>{\n    try{\n       dispatch({\n           type:UPDATE_ORDER_REQUEST\n       })\n       const config = {\n         headers:{\n             \"Content-Type\":\"application/json\"\n         }\n       }\n       const {data} = await axios.put(`http://localhost:3001/order/admin/orders/${id}`,orderData,config);\n    //    console.log(\"updateData\",data);\n       dispatch({\n           type:UPDATE_ORDER_SUCCESS,\n           payload:data.success\n       })\n    }catch(error){\n        dispatch({\n            type:UPDATE_ORDER_FAIL,\n            payload:error.response.data.errMessage\n        })\n    }\n}\n\nexport const deleteOrder = (id) => async (dispatch) => {\n    try {\n\n        dispatch({ type: DELETE_ORDER_REQUEST })\n\n        const { data } = await axios.delete(`http://localhost:3001/order/admin/orders/${id}`)\n//    console.log(\"deleteData\",data.success);\n        dispatch({\n            type: DELETE_ORDER_SUCCESS,\n            payload: data.success\n        })\n\n    } catch (error) {\n        dispatch({\n            type: DELETE_ORDER_FAIL,\n            payload: error.response.data.errMessage\n        })\n    }\n}\n\n//clear error\nexport const clearErrors = ()=>async(dispatch)=>{\n    dispatch({\n        type:CLEAR_ERRORS\n    })\n }"]},"metadata":{},"sourceType":"module"}