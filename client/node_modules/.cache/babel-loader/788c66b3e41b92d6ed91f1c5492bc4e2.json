{"ast":null,"code":"import axios from \"axios\";\nimport { ALL_PRODUCTS_REQUEST, ALL_PRODUCTS_SUCCESS, ALL_PRODUCTS_FAIL, CLEAR_ERRORS, PRODUCTS_DETAILS_FAIL, PRODUCTS_DETAILS_SUCCESS, PRODUCTS_DETAILS_REQUEST, NEW_REVIEW_SUCCESS, NEW_REVIEW_REQUEST, NEW_REVIEW_FAIL, ADMIN_PRODUCTS_FAIL, ADMIN_PRODUCTS_REQUEST, ADMIN_PRODUCTS_SUCCESS, NEW_PRODUCT_REQUEST, NEW_PRODUCT_SUCCESS, NEW_PRODUCT_FAIL, DELETE_PRODUCT_FAIL, DELETE_PRODUCT_SUCCESS, DELETE_PRODUCT_REQUEST, UPDATE_PRODUCT_FAIL, UPDATE_PRODUCT_REQUEST, UPDATE_PRODUCT_SUCCESS, GET_REVIEWS_REQUEST, GET_REVIEWS_SUCCESS, GET_REVIEWS_FAIL, DELETE_REVIEW_REQUEST, DELETE_REVIEW_SUCCESS, DELETE_REVIEW_RESET, DELETE_REVIEW_FAIL } from \"../constants/productConstants\";\nexport const getProducts = function () {\n  let keyword = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  let currentPage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  let price = arguments.length > 2 ? arguments[2] : undefined;\n  let category = arguments.length > 3 ? arguments[3] : undefined;\n  let rating = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  return async dispatch => {\n    console.log(\"im in get Products\");\n    console.log(\"currentPage\", currentPage);\n    console.log(\"keyword\", keyword);\n    console.log(\"getcategory\", category);\n\n    try {\n      dispatch({\n        type: ALL_PRODUCTS_REQUEST\n      });\n      let link = `https://my-ecommerce-web-application.vercel.app/products/getproducts?keyword=${keyword}&page=${currentPage}&price[lte]=${price[1]}&price[gte]=${price[0]}&ratings[gte]=${rating}`;\n\n      if (category) {\n        link = `https://my-ecommerce-web-application.vercel.app/products/getproducts?keyword=${keyword}&page=${currentPage}&price[lte]=${price[1]}&price[gte]=${price[0]}&category=${category}&ratings[gte]=${rating}`;\n      }\n\n      const {\n        data\n      } = await axios.get(link);\n      console.log(\"productdata\", data);\n      dispatch({\n        type: ALL_PRODUCTS_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: ALL_PRODUCTS_FAIL,\n        payload: error.response.data.errMessage\n      });\n    }\n  };\n};\nexport const getProductDetails = id => async dispatch => {\n  try {\n    console.log(\"im in product details actions\");\n    dispatch({\n      type: PRODUCTS_DETAILS_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`https://my-ecommerce-web-application.vercel.app/products/getproduct/${id}`);\n    console.log(\"actiondata\", data.product);\n    dispatch({\n      type: PRODUCTS_DETAILS_SUCCESS,\n      payload: data.product\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCTS_DETAILS_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n};\nexport const newReview = reviewData => async dispatch => {\n  console.log(\"im in new review action\");\n  console.log(\"reviewdata\", reviewData);\n\n  try {\n    console.log(\"im in product details actions\");\n    dispatch({\n      type: NEW_REVIEW_REQUEST\n    });\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.put(`https://my-ecommerce-web-application.vercel.app/products/review`, reviewData, config);\n    console.log(\"newreviewdata\", data.success);\n    dispatch({\n      type: NEW_REVIEW_SUCCESS,\n      payload: data.success\n    });\n  } catch (error) {\n    dispatch({\n      type: NEW_REVIEW_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //get admin producrs\n\nexport const getAdminProducts = () => async dispatch => {\n  try {\n    console.log(\"im in admin product details actions\");\n    dispatch({\n      type: ADMIN_PRODUCTS_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`https://my-ecommerce-web-application.vercel.app/products/admin/getproducts`);\n    console.log(\"actiondata\", data.product);\n    dispatch({\n      type: ADMIN_PRODUCTS_SUCCESS,\n      payload: data.products\n    });\n  } catch (error) {\n    dispatch({\n      type: ADMIN_PRODUCTS_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //create new product\n\nexport const newProduct = productData => async dispatch => {\n  try {\n    console.log(\"product data\", productData);\n    dispatch({\n      type: NEW_PRODUCT_REQUEST\n    });\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.post(\"https://my-ecommerce-web-application.vercel.app/products/admin/createProduct\", productData, config);\n    console.log(\"newproductdata\", data);\n    dispatch({\n      type: NEW_PRODUCT_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: NEW_PRODUCT_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //delete product\n\nexport const deleteProduct = id => async dispatch => {\n  try {\n    console.log(\"im in delete product action\");\n    console.log(\"deletId\", id);\n    dispatch({\n      type: DELETE_PRODUCT_REQUEST\n    });\n    const {\n      data\n    } = await axios.delete(`https://my-ecommerce-web-application.vercel.app/products/admin/deleteProduct/${id}`);\n    console.log(\"newproductdata\", data);\n    dispatch({\n      type: DELETE_PRODUCT_SUCCESS,\n      payload: data.success\n    });\n  } catch (error) {\n    dispatch({\n      type: DELETE_PRODUCT_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //update product\n\nexport const updateProduct = (id, productData) => async dispatch => {\n  try {\n    dispatch({\n      type: UPDATE_PRODUCT_REQUEST\n    });\n    const {\n      data\n    } = await axios.put(`https://my-ecommerce-web-application.vercel.app/products/admin/updateProduct/${id}`, productData);\n    console.log(\"newproductdata\", data);\n    dispatch({\n      type: UPDATE_PRODUCT_SUCCESS,\n      payload: data.success\n    });\n  } catch (error) {\n    dispatch({\n      type: UPDATE_PRODUCT_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; // Get product reviews\n\nexport const getProductReviews = id => async dispatch => {\n  try {\n    console.log(\"im in review action\");\n    dispatch({\n      type: GET_REVIEWS_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`https://my-ecommerce-web-application.vercel.app/products/reviews?id=${id}`);\n    console.log(\"reviewData\", data);\n    dispatch({\n      type: GET_REVIEWS_SUCCESS,\n      payload: data.reviews\n    });\n  } catch (error) {\n    dispatch({\n      type: GET_REVIEWS_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; // Delete product review\n\nexport const deleteReview = (id, productId) => async dispatch => {\n  try {\n    dispatch({\n      type: DELETE_REVIEW_REQUEST\n    });\n    const {\n      data\n    } = await axios.delete(`https://my-ecommerce-web-application.vercel.app/products/review?id=${id}&productId=${productId}`);\n    dispatch({\n      type: DELETE_REVIEW_SUCCESS,\n      payload: data.success\n    });\n  } catch (error) {\n    console.log(error.response);\n    dispatch({\n      type: DELETE_REVIEW_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //clear error\n\nexport const clearErrors = () => async dispatch => {\n  dispatch({\n    type: CLEAR_ERRORS\n  });\n};","map":{"version":3,"sources":["/Users/ruchikaashokbharati/Documents/Projects/Ecommerce/Ecommerce-Backend-main/client/src/actions/productActions.js"],"names":["axios","ALL_PRODUCTS_REQUEST","ALL_PRODUCTS_SUCCESS","ALL_PRODUCTS_FAIL","CLEAR_ERRORS","PRODUCTS_DETAILS_FAIL","PRODUCTS_DETAILS_SUCCESS","PRODUCTS_DETAILS_REQUEST","NEW_REVIEW_SUCCESS","NEW_REVIEW_REQUEST","NEW_REVIEW_FAIL","ADMIN_PRODUCTS_FAIL","ADMIN_PRODUCTS_REQUEST","ADMIN_PRODUCTS_SUCCESS","NEW_PRODUCT_REQUEST","NEW_PRODUCT_SUCCESS","NEW_PRODUCT_FAIL","DELETE_PRODUCT_FAIL","DELETE_PRODUCT_SUCCESS","DELETE_PRODUCT_REQUEST","UPDATE_PRODUCT_FAIL","UPDATE_PRODUCT_REQUEST","UPDATE_PRODUCT_SUCCESS","GET_REVIEWS_REQUEST","GET_REVIEWS_SUCCESS","GET_REVIEWS_FAIL","DELETE_REVIEW_REQUEST","DELETE_REVIEW_SUCCESS","DELETE_REVIEW_RESET","DELETE_REVIEW_FAIL","getProducts","keyword","currentPage","price","category","rating","dispatch","console","log","type","link","data","get","payload","error","response","errMessage","getProductDetails","id","product","newReview","reviewData","config","headers","put","success","getAdminProducts","products","newProduct","productData","post","deleteProduct","delete","updateProduct","getProductReviews","reviews","deleteReview","productId","clearErrors"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport {ALL_PRODUCTS_REQUEST,ALL_PRODUCTS_SUCCESS,ALL_PRODUCTS_FAIL,CLEAR_ERRORS,PRODUCTS_DETAILS_FAIL,PRODUCTS_DETAILS_SUCCESS,PRODUCTS_DETAILS_REQUEST,NEW_REVIEW_SUCCESS,NEW_REVIEW_REQUEST,NEW_REVIEW_FAIL,ADMIN_PRODUCTS_FAIL,ADMIN_PRODUCTS_REQUEST,ADMIN_PRODUCTS_SUCCESS, NEW_PRODUCT_REQUEST, NEW_PRODUCT_SUCCESS, NEW_PRODUCT_FAIL,DELETE_PRODUCT_FAIL,DELETE_PRODUCT_SUCCESS,DELETE_PRODUCT_REQUEST,UPDATE_PRODUCT_FAIL,UPDATE_PRODUCT_REQUEST,UPDATE_PRODUCT_SUCCESS,GET_REVIEWS_REQUEST,GET_REVIEWS_SUCCESS,GET_REVIEWS_FAIL,DELETE_REVIEW_REQUEST,DELETE_REVIEW_SUCCESS,DELETE_REVIEW_RESET,DELETE_REVIEW_FAIL} from \"../constants/productConstants\";\nexport const getProducts = (keyword=\"\",currentPage=1,price,category,rating=0)=>async (dispatch)=>{\n    console.log(\"im in get Products\");\n    console.log(\"currentPage\",currentPage);\n    console.log(\"keyword\",keyword);\n    console.log(\"getcategory\",category);\n    try{\n      dispatch({type:ALL_PRODUCTS_REQUEST})\n      let link = `https://my-ecommerce-web-application.vercel.app/products/getproducts?keyword=${keyword}&page=${currentPage}&price[lte]=${price[1]}&price[gte]=${price[0]}&ratings[gte]=${rating}`;\n      if(category){\n        link = `https://my-ecommerce-web-application.vercel.app/products/getproducts?keyword=${keyword}&page=${currentPage}&price[lte]=${price[1]}&price[gte]=${price[0]}&category=${category}&ratings[gte]=${rating}`\n      }\n      const {data} = await axios.get(link);\n      console.log(\"productdata\",data);\n      dispatch({\n          type:ALL_PRODUCTS_SUCCESS,\n          payload:data\n      })\n    }catch(error){\n        dispatch({\n            type:ALL_PRODUCTS_FAIL,\n            payload:error.response.data.errMessage\n        })\n    }\n}\n\nexport const getProductDetails = (id)=>async (dispatch)=>{\n    try{\n        console.log(\"im in product details actions\");\n      dispatch({type:PRODUCTS_DETAILS_REQUEST})\n      const {data} = await axios.get(`https://my-ecommerce-web-application.vercel.app/products/getproduct/${id}`);\n      console.log(\"actiondata\",data.product);\n      dispatch({\n          type:PRODUCTS_DETAILS_SUCCESS,\n          payload:data.product\n      })\n    }catch(error){\n        dispatch({\n            type:PRODUCTS_DETAILS_FAIL,\n            payload:error.response.data.errMessage\n        })\n    }\n}\n\nexport const newReview = (reviewData)=>async (dispatch)=>{\n    console.log(\"im in new review action\");\n    console.log(\"reviewdata\",reviewData);\n    try{\n        console.log(\"im in product details actions\");\n      dispatch({type:NEW_REVIEW_REQUEST})\n      const config={\n        headers:{\n            'Content-Type':'application/json'\n        }\n      }\n      const {data} = await axios.put(`https://my-ecommerce-web-application.vercel.app/products/review`,reviewData,config);\n      console.log(\"newreviewdata\",data.success);\n      dispatch({\n          type:NEW_REVIEW_SUCCESS,\n          payload:data.success\n      })\n    }catch(error){\n        dispatch({\n            type:NEW_REVIEW_FAIL,\n            payload:error.response.data.errMessage\n        })\n    }\n}\n\n//get admin producrs\nexport const getAdminProducts = ()=>async (dispatch)=>{\n    try{\n        console.log(\"im in admin product details actions\");\n      dispatch({type:ADMIN_PRODUCTS_REQUEST})\n      const {data} = await axios.get(`https://my-ecommerce-web-application.vercel.app/products/admin/getproducts`);\n      console.log(\"actiondata\",data.product);\n      dispatch({\n          type:ADMIN_PRODUCTS_SUCCESS,\n          payload:data.products\n      })\n    }catch(error){\n        dispatch({\n            type:ADMIN_PRODUCTS_FAIL,\n            payload:error.response.data.errMessage\n        })\n    }\n}\n\n//create new product\nexport const newProduct = (productData)=>async(dispatch)=>{\n   try{\n       console.log(\"product data\",productData);\n     dispatch({type:NEW_PRODUCT_REQUEST});\n     const config={\n        headers:{\n            'Content-Type':'application/json'\n        }\n      }\n     const {data} = await axios.post(\"https://my-ecommerce-web-application.vercel.app/products/admin/createProduct\",productData,config);\n     console.log(\"newproductdata\",data);\n     dispatch({type:NEW_PRODUCT_SUCCESS, payload: data})\n   }catch(error){\n      dispatch({type:NEW_PRODUCT_FAIL,payload: error.response.data.errMessage})\n   }\n}\n\n//delete product\nexport const deleteProduct = (id)=>async(dispatch)=>{\n    try{\n      console.log(\"im in delete product action\");\n      console.log(\"deletId\",id);\n      dispatch({type:DELETE_PRODUCT_REQUEST});\n     \n      const {data} = await axios.delete(`https://my-ecommerce-web-application.vercel.app/products/admin/deleteProduct/${id}`);\n      console.log(\"newproductdata\",data);\n      dispatch({type:DELETE_PRODUCT_SUCCESS, payload: data.success})\n    }catch(error){\n       dispatch({type:DELETE_PRODUCT_FAIL,payload: error.response.data.errMessage})\n    }\n }\n\n //update product\n export const updateProduct = (id,productData)=>async(dispatch)=>{\n    try{\n        \n      dispatch({type:UPDATE_PRODUCT_REQUEST});\n     \n      const {data} = await axios.put(`https://my-ecommerce-web-application.vercel.app/products/admin/updateProduct/${id}`,productData);\n      console.log(\"newproductdata\",data);\n      dispatch({type:UPDATE_PRODUCT_SUCCESS, payload: data.success})\n    }catch(error){\n       dispatch({type:UPDATE_PRODUCT_FAIL,payload: error.response.data.errMessage})\n    }\n }\n\n // Get product reviews\nexport const getProductReviews = (id) => async (dispatch) => {\n    try {\n        console.log(\"im in review action\");\n        dispatch({ type: GET_REVIEWS_REQUEST })\n\n        const { data } = await axios.get(`https://my-ecommerce-web-application.vercel.app/products/reviews?id=${id}`)\n        console.log(\"reviewData\",data);\n        dispatch({\n            type: GET_REVIEWS_SUCCESS,\n            payload: data.reviews\n        })\n\n    } catch (error) {\n\n        dispatch({\n            type: GET_REVIEWS_FAIL,\n            payload:error.response.data.errMessage\n        })\n    }\n}\n\n// Delete product review\nexport const deleteReview = (id, productId) => async (dispatch) => {\n    try {\n\n        dispatch({ type: DELETE_REVIEW_REQUEST })\n\n        const { data } = await axios.delete(`https://my-ecommerce-web-application.vercel.app/products/review?id=${id}&productId=${productId}`)\n\n        dispatch({\n            type: DELETE_REVIEW_SUCCESS,\n            payload: data.success\n        })\n\n    } catch (error) {\n\n        console.log(error.response);\n\n        dispatch({\n            type: DELETE_REVIEW_FAIL,\n            payload:error.response.data.errMessage\n        })\n    }\n}\n\n//clear error\nexport const clearErrors = ()=>async(dispatch)=>{\n   dispatch({\n       type:CLEAR_ERRORS\n   })\n}"]},"metadata":{},"sourceType":"module"}