{"ast":null,"code":"import axios from \"axios\";\nimport { CREATE_ORDER_FAIL, CREATE_ORDER_SUCCESS, CREATE_ORDER_REQUEST, CLEAR_ERRORS, MY_ORDERS_FAIL, MY_ORDERS_SUCCESS, MY_ORDERS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_DETAILS_REQUEST, ORDER_DETAILS_FAIL, ALL_ORDERS_SUCCESS, ALL_ORDERS_REQUEST, ALL_ORDERS_FAIL, UPDATE_ORDER_SUCCESS, UPDATE_ORDER_REQUEST, UPDATE_ORDER_FAIL, DELETE_ORDER_REQUEST, DELETE_ORDER_SUCCESS, DELETE_ORDER_FAIL } from \"../constants/orderConstants\";\nexport const createOrder = (order, token) => async (dispatch, getState) => {\n  // console.log(\"im in create order\");\n  // console.log(\"order\",order);\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `${token}`\n    }\n  };\n\n  try {\n    dispatch({\n      type: CREATE_ORDER_REQUEST\n    });\n    const {\n      data\n    } = await axios.post(\"http://localhost:3001/order/neworder\", order, config); //    console.log(\"order Data\",data);\n\n    dispatch({\n      type: CREATE_ORDER_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: CREATE_ORDER_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //get currently logged in user orders\n\nexport const myOrders = token => async (dispatch, getState) => {\n  // console.log(\"im in myorder\");\n  try {\n    dispatch({\n      type: MY_ORDERS_REQUEST\n    });\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `${token}`\n      }\n    };\n    const {\n      data\n    } = await axios.get(\"http://localhost:3001/order/myorders\", config); //    console.log(\"data\",data);\n\n    dispatch({\n      type: MY_ORDERS_SUCCESS,\n      payload: data.orders\n    });\n  } catch (error) {\n    dispatch({\n      type: MY_ORDERS_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //get specific order details\n\nexport const orderDetails = id => async (dispatch, getState) => {\n  // console.log(\"im in order details\");\n  try {\n    dispatch({\n      type: ORDER_DETAILS_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`http://localhost:3001/order/singleorder/${id}`); //    console.log(\"data\",data);\n\n    dispatch({\n      type: ORDER_DETAILS_SUCCESS,\n      payload: data.order\n    });\n  } catch (error) {\n    dispatch({\n      type: ORDER_DETAILS_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //get all orders details\n\nexport const getAllOrders = token => async (dispatch, getState) => {\n  console.log(\"im in getAllOrders\", token);\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `${token}`\n    }\n  }; // console.log(\"im in order details\");\n\n  try {\n    dispatch({\n      type: ALL_ORDERS_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`http://localhost:3001/order/admin/orders`, config); //    console.log(\"data\",data);\n\n    dispatch({\n      type: ALL_ORDERS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: ALL_ORDERS_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //update order-admin\n\nexport const updateOrder = (id, orderData) => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: UPDATE_ORDER_REQUEST\n    });\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const {\n      data\n    } = await axios.put(`http://localhost:3001/order/admin/orders/${id}`, orderData, config); //    console.log(\"updateData\",data);\n\n    dispatch({\n      type: UPDATE_ORDER_SUCCESS,\n      payload: data.success\n    });\n  } catch (error) {\n    dispatch({\n      type: UPDATE_ORDER_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n};\nexport const deleteOrder = id => async dispatch => {\n  try {\n    dispatch({\n      type: DELETE_ORDER_REQUEST\n    });\n    const {\n      data\n    } = await axios.delete(`http://localhost:3001/order/admin/orders/${id}`); //    console.log(\"deleteData\",data.success);\n\n    dispatch({\n      type: DELETE_ORDER_SUCCESS,\n      payload: data.success\n    });\n  } catch (error) {\n    dispatch({\n      type: DELETE_ORDER_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //clear error\n\nexport const clearErrors = () => async dispatch => {\n  dispatch({\n    type: CLEAR_ERRORS\n  });\n};","map":{"version":3,"sources":["/Users/ruchikaashokbharati/Documents/Projects/Ecommerce1/Ecommerce-Backend-main/client/src/actions/orderActions.js"],"names":["axios","CREATE_ORDER_FAIL","CREATE_ORDER_SUCCESS","CREATE_ORDER_REQUEST","CLEAR_ERRORS","MY_ORDERS_FAIL","MY_ORDERS_SUCCESS","MY_ORDERS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_REQUEST","ORDER_DETAILS_FAIL","ALL_ORDERS_SUCCESS","ALL_ORDERS_REQUEST","ALL_ORDERS_FAIL","UPDATE_ORDER_SUCCESS","UPDATE_ORDER_REQUEST","UPDATE_ORDER_FAIL","DELETE_ORDER_REQUEST","DELETE_ORDER_SUCCESS","DELETE_ORDER_FAIL","createOrder","order","token","dispatch","getState","config","headers","type","data","post","payload","error","response","errMessage","myOrders","get","orders","orderDetails","id","getAllOrders","console","log","updateOrder","orderData","put","success","deleteOrder","delete","clearErrors"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { CREATE_ORDER_FAIL,CREATE_ORDER_SUCCESS,CREATE_ORDER_REQUEST,CLEAR_ERRORS,MY_ORDERS_FAIL,MY_ORDERS_SUCCESS,MY_ORDERS_REQUEST,ORDER_DETAILS_SUCCESS,ORDER_DETAILS_REQUEST,ORDER_DETAILS_FAIL,ALL_ORDERS_SUCCESS,ALL_ORDERS_REQUEST,ALL_ORDERS_FAIL,UPDATE_ORDER_SUCCESS,UPDATE_ORDER_REQUEST,UPDATE_ORDER_FAIL,\n    DELETE_ORDER_REQUEST,\n   DELETE_ORDER_SUCCESS,\n  DELETE_ORDER_FAIL } from \"../constants/orderConstants\";\nexport const createOrder = (order,token)=>async(dispatch,getState)=>{\n    // console.log(\"im in create order\");\n    // console.log(\"order\",order);\n    const config={\n        headers:{\n            'Content-Type':'application/json',\n            'Authorization': `${token}`\n        }\n      }\n    try{\n       dispatch({\n           type:CREATE_ORDER_REQUEST\n       })\n       const {data} = await axios.post(\"http://localhost:3001/order/neworder\",order,config);\n    //    console.log(\"order Data\",data);\n       dispatch({\n           type:CREATE_ORDER_SUCCESS,\n           payload:data\n       })\n    }catch(error){\n        dispatch({\n            type:CREATE_ORDER_FAIL,\n            payload:error.response.data.errMessage\n        })\n    }\n}\n\n//get currently logged in user orders\nexport const myOrders = (token)=>async(dispatch,getState)=>{\n    // console.log(\"im in myorder\");\n    try{\n       dispatch({\n           type:MY_ORDERS_REQUEST\n       })\n\n       const config={\n        headers:{\n            'Content-Type':'application/json',\n            'Authorization': `${token}`\n        }\n      }\n       \n       const {data} = await axios.get(\"http://localhost:3001/order/myorders\",config);\n    //    console.log(\"data\",data);\n       dispatch({\n           type:MY_ORDERS_SUCCESS,\n           payload:data.orders\n       })\n    }catch(error){\n        dispatch({\n            type:MY_ORDERS_FAIL,\n            payload:error.response.data.errMessage\n        })\n    }\n}\n\n//get specific order details\nexport const orderDetails = (id)=>async(dispatch,getState)=>{\n\n    // console.log(\"im in order details\");\n    try{\n       dispatch({\n           type:ORDER_DETAILS_REQUEST\n       })\n       \nconst {data} = await axios.get(`http://localhost:3001/order/singleorder/${id}`);\n    //    console.log(\"data\",data);\n       dispatch({\n           type:ORDER_DETAILS_SUCCESS,\n           payload:data.order\n       })\n    }catch(error){\n        dispatch({\n            type:ORDER_DETAILS_FAIL,\n            payload:error.response.data.errMessage\n        })\n    }\n}\n\n\n//get all orders details\nexport const getAllOrders = (token)=>async(dispatch,getState)=>{\n    \n    console.log(\"im in getAllOrders\",token);\n    const config={\n        headers:{\n            'Content-Type':'application/json',\n            'Authorization':`${token}`\n        }\n      }\n    // console.log(\"im in order details\");\n    try{\n       dispatch({\n           type:ALL_ORDERS_REQUEST\n       })\n       \nconst {data} = await axios.get(`http://localhost:3001/order/admin/orders`,config);\n    //    console.log(\"data\",data);\n       dispatch({\n           type:ALL_ORDERS_SUCCESS,\n           payload:data\n       })\n    }catch(error){\n        dispatch({\n            type:ALL_ORDERS_FAIL,\n            payload:error.response.data.errMessage\n        })\n    }\n}\n\n//update order-admin\nexport const updateOrder = (id,orderData)=>async(dispatch,getState)=>{\n    try{\n       dispatch({\n           type:UPDATE_ORDER_REQUEST\n       })\n       const config = {\n         headers:{\n             \"Content-Type\":\"application/json\"\n         }\n       }\n       const {data} = await axios.put(`http://localhost:3001/order/admin/orders/${id}`,orderData,config);\n    //    console.log(\"updateData\",data);\n       dispatch({\n           type:UPDATE_ORDER_SUCCESS,\n           payload:data.success\n       })\n    }catch(error){\n        dispatch({\n            type:UPDATE_ORDER_FAIL,\n            payload:error.response.data.errMessage\n        })\n    }\n}\n\nexport const deleteOrder = (id) => async (dispatch) => {\n    try {\n\n        dispatch({ type: DELETE_ORDER_REQUEST })\n\n        const { data } = await axios.delete(`http://localhost:3001/order/admin/orders/${id}`)\n//    console.log(\"deleteData\",data.success);\n        dispatch({\n            type: DELETE_ORDER_SUCCESS,\n            payload: data.success\n        })\n\n    } catch (error) {\n        dispatch({\n            type: DELETE_ORDER_FAIL,\n            payload: error.response.data.errMessage\n        })\n    }\n}\n\n//clear error\nexport const clearErrors = ()=>async(dispatch)=>{\n    dispatch({\n        type:CLEAR_ERRORS\n    })\n }"]},"metadata":{},"sourceType":"module"}