{"ast":null,"code":"import _slicedToArray from\"/Users/ruchikaashokbharati/Documents/Projects/Ecommerce/Ecommerce-Backend-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useAlert}from'react-alert';import{useDispatch,useSelector}from'react-redux';import MetaData from'../layouts/MetaData';import{resetPassword,loadUser,clearErrors}from\"../../actions/userActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var NewPassword=function NewPassword(_ref){var history=_ref.history,match=_ref.match;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),confirmpassword=_useState4[0],setConfirmPassword=_useState4[1];var alert=useAlert();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.forgotPassword;}),error=_useSelector.error,success=_useSelector.success;useEffect(function(){if(error){alert.error(error);dispatch(clearErrors());}if(success){alert.success(\"password updated successfully\");history.push(\"/login\");}},[dispatch,alert,error,success,history]);var submitHandler=function submitHandler(e){e.preventDefault();var formData=new FormData();formData.set(\"password\",password);formData.set(\"confirmpassword\",confirmpassword);dispatch(resetPassword(match.params.token,formData));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'Reset Password'}),/*#__PURE__*/_jsx(\"div\",{className:\"row wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-10 col-lg-5\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"shadow-lg\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-3\",children:\"New Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password_field\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password_field\",className:\"form-control\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirm_password_field\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirm_password_field\",className:\"form-control\",value:confirmpassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{id:\"new_password_button\",type:\"submit\",className:\"btn btn-block py-3\",children:\"Set Password\"})]})})})]});};export default NewPassword;","map":{"version":3,"sources":["/Users/ruchikaashokbharati/Documents/Projects/Ecommerce/Ecommerce-Backend-main/client/src/components/user/NewPassword.js"],"names":["React","useEffect","useState","useAlert","useDispatch","useSelector","MetaData","resetPassword","loadUser","clearErrors","NewPassword","history","match","password","setPassword","confirmpassword","setConfirmPassword","alert","dispatch","state","forgotPassword","error","success","push","submitHandler","e","preventDefault","formData","FormData","set","params","token","target","value"],"mappings":"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","sourcesContent":["import React,{useEffect,useState} from 'react'\nimport { useAlert } from 'react-alert'\nimport { useDispatch,useSelector } from 'react-redux'\n\nimport MetaData from '../layouts/MetaData';\n\nimport {resetPassword,loadUser,clearErrors} from \"../../actions/userActions\";\n\nconst NewPassword = ({history,match}) => {\nconst [password,setPassword] = useState('');\nconst [confirmpassword,setConfirmPassword] = useState('');\nconst alert = useAlert();\nconst dispatch = useDispatch();\nconst {error,success} = useSelector(state=>state.forgotPassword);\nuseEffect(() => {\n   if(error){\n       alert.error(error);\n       dispatch(clearErrors());\n   }\n   if(success){\n       alert.success(\"password updated successfully\");\n       history.push(\"/login\");\n    }\n}, [dispatch,alert,error,success,history])\nconst submitHandler = (e)=>{\n    e.preventDefault();\n    const formData = new FormData();\n    formData.set(\"password\",password);\n    formData.set(\"confirmpassword\",confirmpassword);\n    dispatch(resetPassword(match.params.token,formData))\n   }\n    return (\n        <>\n        <MetaData title={'Reset Password'}></MetaData>\n        <div className=\"row wrapper\">\n            <div className=\"col-10 col-lg-5\">\n                <form className=\"shadow-lg\" onSubmit={submitHandler}>\n                    <h1 className=\"mb-3\">New Password</h1>\n\n                    <div className=\"form-group\">\n                        <label htmlFor=\"password_field\">Password</label>\n                        <input\n                            type=\"password\"\n                            id=\"password_field\"\n                            className=\"form-control\"\n                            value={password}\n                            onChange={(e)=>setPassword(e.target.value)}\n                        />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label htmlFor=\"confirm_password_field\">Confirm Password</label>\n                        <input\n                            type=\"password\"\n                            id=\"confirm_password_field\"\n                            className=\"form-control\"\n                            value={confirmpassword}\n                            onChange={(e)=>setConfirmPassword(e.target.value)}\n                        />\n                    </div>\n\n                    <button\n                        id=\"new_password_button\"\n                        type=\"submit\"\n                        className=\"btn btn-block py-3\">\n                        Set Password\n                    </button>\n\n                </form>\n            </div>\n        </div>\n        </>\n    )\n}\n\nexport default NewPassword\n"]},"metadata":{},"sourceType":"module"}