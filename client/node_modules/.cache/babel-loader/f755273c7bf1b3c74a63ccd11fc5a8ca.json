{"ast":null,"code":"import { LOGIN_REQUEST, LOGIN_SUCCESS, LOGIN_FAIL, CLEAR_ERRORS, REGISTER_USER_FAIL, REGISTER_USER_SUCCESS, REGISTER_USER_REQUEST, LOAD_USER_FAIL, LOAD_USER_REQUEST, LOAD_USER_SUCCESS, LOGOUT_FAIL, LOGOUT_SUCCESS, UPDATE_PASSWORD_FAIL, UPDATE_PROFILE_SUCCESS, UPDATE_PASSWORD_REQUEST, UPDATE_PASSWORD_SUCCESS, UPDATE_PROFILE_FAIL, UPDATE_PROFILE_REQUEST, FORGOT_PASSWORD_FAIL, FORGOT_PASSWORD_REQUEST, FORGOT_PASSWORD_SUCCESS, NEW_PASSWORD_FAIL, NEW_PASSWORD_REQUEST, NEW_PASSWORD_SUCCESS, ALL_USERS_SUCCESS, ALL_USERS_REQUEST, ALL_USERS_FAIL, UPDATE_USER_SUCCESS, UPDATE_USER_REQUEST, UPDATE_USER_FAIL, USER_DETAILS_REQUEST, USER_DETAILS_SUCCESS, USER_DETAILS_FAIL, DELETE_USER_FAIL, DELETE_USER_REQUEST, DELETE_USER_SUCCESS } from \"../constants/userConstants\";\nimport axios from \"axios\"; //login\n\nexport const login = (email, password) => async dispatch => {\n  console.log(\"im in login\");\n\n  try {\n    dispatch({\n      type: LOGIN_REQUEST\n    });\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.post(\"http://localhost:3001/auth/login\", {\n      email,\n      password\n    }, config);\n    console.log(\"loginuserdata\", data);\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: data.user\n    });\n    dispatch(getStripeData());\n  } catch (error) {\n    console.log(\"im in login catch\");\n    console.log(\"error\", error.response.data.errMessage);\n    dispatch({\n      type: LOGIN_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //register user\n\nexport const register = userData => async dispatch => {\n  console.log(\"im in register\");\n\n  try {\n    dispatch({\n      type: REGISTER_USER_REQUEST\n    });\n    const config = {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    };\n    const {\n      data\n    } = await axios.post(\"http://localhost:3001/auth/register\", userData, config);\n    console.log(\"registerdata\", data);\n    dispatch({\n      type: REGISTER_USER_SUCCESS,\n      payload: data.user\n    });\n  } catch (error) {\n    console.log(\"error\", error.response);\n    dispatch({\n      type: REGISTER_USER_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //load user\n\nexport const loadUser = () => async dispatch => {\n  console.log(\"im in load user\");\n\n  try {\n    dispatch({\n      type: LOAD_USER_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(\"http://localhost:3001/auth/me\");\n    console.log(\"loaduserdata\", data); //  console.log(\"stripeApiKey\",stripeApiKey);\n    //  const {stripeData} = await axios.get(\"http://localhost:3001/user/payment/stripeApi\");\n    //  console.log(\"stripeData\",stripeData)\n    //  setStripeApiKey(stripeData.stripeApiKey);\n\n    dispatch({\n      type: LOAD_USER_SUCCESS,\n      payload: data.user\n    }); // }\n  } catch (error) {\n    console.log(\"Error\", error);\n    dispatch({\n      type: LOAD_USER_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //logout user\n\nexport const logoutUser = () => async dispatch => {\n  console.log(\"im in load user\");\n\n  try {\n    const {\n      data\n    } = await axios.get(\"http://localhost:3001/auth/logout\");\n    console.log(\"logoutuserdata\", data);\n    dispatch({\n      type: LOGOUT_SUCCESS\n    });\n  } catch (error) {\n    console.log(\"logouterrpr\", error);\n    dispatch({\n      type: LOGOUT_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //register user\n\nexport const updateProfile = userData => async dispatch => {\n  console.log(\"im in register\");\n\n  try {\n    dispatch({\n      type: UPDATE_PROFILE_REQUEST\n    });\n    const config = {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    };\n    const {\n      data\n    } = await axios.put(\"http://localhost:3001/auth/me/update\", userData, config);\n    console.log(\"userdata\", data);\n    dispatch({\n      type: UPDATE_PROFILE_SUCCESS,\n      payload: data.success\n    });\n  } catch (error) {\n    dispatch({\n      type: UPDATE_PROFILE_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //update password\n\nexport const updatePassword = passwords => async dispatch => {\n  console.log(\"im in update password\");\n\n  try {\n    dispatch({\n      type: UPDATE_PASSWORD_REQUEST\n    });\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.put(\"http://localhost:3001/auth/password/updatepassword\", passwords, config);\n    console.log(\"userdata\", data);\n    dispatch({\n      type: UPDATE_PASSWORD_SUCCESS,\n      payload: data.success\n    });\n  } catch (error) {\n    console.log(\"error\", error.response);\n    dispatch({\n      type: UPDATE_PASSWORD_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //reset password\n\nexport const resetPassword = (token, passwords) => async dispatch => {\n  console.log(\"im in new password\");\n\n  try {\n    dispatch({\n      type: NEW_PASSWORD_REQUEST\n    });\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.put(`http://localhost:3001/auth/password/reset/${token}`, passwords, config);\n    console.log(\"userdata\", data);\n    dispatch({\n      type: NEW_PASSWORD_SUCCESS,\n      payload: data.success\n    });\n  } catch (error) {\n    console.log(\"error\", error.response);\n    dispatch({\n      type: NEW_PASSWORD_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //forgot password\n\nexport const forgotPassword = email => async dispatch => {\n  console.log(\"im in forgot password\");\n  console.log(\"email\", email);\n\n  try {\n    dispatch({\n      type: FORGOT_PASSWORD_REQUEST\n    });\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.post(\"http://localhost:3001/auth/password/forgot\", email, config);\n    console.log(\"userdata\", data);\n    dispatch({\n      type: FORGOT_PASSWORD_SUCCESS,\n      payload: data.message\n    });\n  } catch (error) {\n    console.log(\"error\", error.response);\n    dispatch({\n      type: FORGOT_PASSWORD_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n};\nexport const getAllUsers = () => async dispatch => {\n  console.log(\"im in get users\");\n\n  try {\n    dispatch({\n      type: ALL_USERS_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(\"http://localhost:3001/auth/admin/users\");\n    console.log(\"Allusersdata\", data);\n    dispatch({\n      type: ALL_USERS_SUCCESS,\n      payload: data.users\n    }); // }\n  } catch (error) {\n    console.log(\"im in cathc\");\n    console.log(\"error\", error);\n    dispatch({\n      type: ALL_USERS_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n};\nexport const updateUser = (id, userData) => async dispatch => {\n  try {\n    dispatch({\n      type: UPDATE_USER_REQUEST\n    });\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.put(`http://localhost:3001/auth/admin/user/${id}`, userData, config);\n    dispatch({\n      type: UPDATE_USER_SUCCESS,\n      payload: data.success\n    });\n  } catch (error) {\n    dispatch({\n      type: UPDATE_USER_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n};\nexport const getUserDetails = id => async dispatch => {\n  try {\n    dispatch({\n      type: USER_DETAILS_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`http://localhost:3001/auth/admin/user/${id}`);\n    dispatch({\n      type: USER_DETAILS_SUCCESS,\n      payload: data.user\n    });\n  } catch (error) {\n    dispatch({\n      type: USER_DETAILS_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; // Delete user - ADMIN\n\nexport const deleteUser = id => async dispatch => {\n  console.log(\"im in delete user\");\n  console.log(\"id\", id);\n\n  try {\n    dispatch({\n      type: DELETE_USER_REQUEST\n    });\n    const {\n      data\n    } = await axios.delete(`http://localhost:3001/auth/admin/user/${id}`);\n    console.log(\"deleteData\", data);\n    dispatch({\n      type: DELETE_USER_SUCCESS,\n      payload: data.success\n    });\n  } catch (error) {\n    dispatch({\n      type: DELETE_USER_FAIL,\n      payload: error.response.data.errMessage\n    });\n  }\n}; //clear error\n\nexport const clearErrors = () => async dispatch => {\n  dispatch({\n    type: CLEAR_ERRORS\n  });\n};","map":{"version":3,"sources":["/Users/ruchikaashokbharati/Documents/Projects/Ecommerce1/Ecommerce-Backend-main/client/src/actions/userActions.js"],"names":["LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAIL","CLEAR_ERRORS","REGISTER_USER_FAIL","REGISTER_USER_SUCCESS","REGISTER_USER_REQUEST","LOAD_USER_FAIL","LOAD_USER_REQUEST","LOAD_USER_SUCCESS","LOGOUT_FAIL","LOGOUT_SUCCESS","UPDATE_PASSWORD_FAIL","UPDATE_PROFILE_SUCCESS","UPDATE_PASSWORD_REQUEST","UPDATE_PASSWORD_SUCCESS","UPDATE_PROFILE_FAIL","UPDATE_PROFILE_REQUEST","FORGOT_PASSWORD_FAIL","FORGOT_PASSWORD_REQUEST","FORGOT_PASSWORD_SUCCESS","NEW_PASSWORD_FAIL","NEW_PASSWORD_REQUEST","NEW_PASSWORD_SUCCESS","ALL_USERS_SUCCESS","ALL_USERS_REQUEST","ALL_USERS_FAIL","UPDATE_USER_SUCCESS","UPDATE_USER_REQUEST","UPDATE_USER_FAIL","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAIL","DELETE_USER_FAIL","DELETE_USER_REQUEST","DELETE_USER_SUCCESS","axios","login","email","password","dispatch","console","log","type","config","headers","data","post","payload","user","getStripeData","error","response","errMessage","register","userData","loadUser","get","logoutUser","updateProfile","put","success","updatePassword","passwords","resetPassword","token","forgotPassword","message","getAllUsers","users","updateUser","id","getUserDetails","deleteUser","delete","clearErrors"],"mappings":"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","sourcesContent":["import {LOGIN_REQUEST,LOGIN_SUCCESS,LOGIN_FAIL,CLEAR_ERRORS,REGISTER_USER_FAIL,REGISTER_USER_SUCCESS,REGISTER_USER_REQUEST,\nLOAD_USER_FAIL,LOAD_USER_REQUEST,LOAD_USER_SUCCESS,LOGOUT_FAIL,LOGOUT_SUCCESS,\nUPDATE_PASSWORD_FAIL,UPDATE_PROFILE_SUCCESS,UPDATE_PASSWORD_REQUEST,UPDATE_PASSWORD_SUCCESS,UPDATE_PROFILE_FAIL,UPDATE_PROFILE_REQUEST,\nFORGOT_PASSWORD_FAIL,\nFORGOT_PASSWORD_REQUEST,\nFORGOT_PASSWORD_SUCCESS,\nNEW_PASSWORD_FAIL,\nNEW_PASSWORD_REQUEST,\nNEW_PASSWORD_SUCCESS,\nALL_USERS_SUCCESS,\nALL_USERS_REQUEST,\nALL_USERS_FAIL,\nUPDATE_USER_SUCCESS,\nUPDATE_USER_REQUEST,\nUPDATE_USER_FAIL,\nUSER_DETAILS_REQUEST,\nUSER_DETAILS_SUCCESS,\nUSER_DETAILS_FAIL,\nDELETE_USER_FAIL,\nDELETE_USER_REQUEST,\nDELETE_USER_SUCCESS\n} from \"../constants/userConstants\";\nimport axios from \"axios\";\n\n//login\nexport const login = (email,password)=>async(dispatch)=>{\n    console.log(\"im in login\");\n   try{\n     dispatch({\n         type:LOGIN_REQUEST\n    })\n    const config={\n      headers:{\n          'Content-Type':'application/json'\n      }\n    }\nconst {data} = await axios.post(\"http://localhost:3001/auth/login\",{email,password},config)\nconsole.log(\"loginuserdata\",data);\ndispatch({\n    type:LOGIN_SUCCESS,\n    payload:data.user\n})\ndispatch(getStripeData());\n\n   }catch(error){\n       console.log(\"im in login catch\");\n       console.log(\"error\",error.response.data.errMessage);\n    dispatch({\n        type:LOGIN_FAIL,\n        payload:error.response.data.errMessage\n    })\n   }\n}\n\n//register user\nexport const register = (userData)=>async(dispatch)=>{\n    console.log(\"im in register\");\n    try{\n      dispatch({\n          type:REGISTER_USER_REQUEST\n     })\n     const config={\n       headers:{\n           'Content-Type':'multipart/form-data'\n       }\n     }\n const {data} = await axios.post(\"http://localhost:3001/auth/register\",userData,config)\n console.log(\"registerdata\",data);\n dispatch({\n     type:REGISTER_USER_SUCCESS,\n     payload:data.user\n })\n \n    }catch(error){\n        console.log(\"error\",error.response);\n     dispatch({\n         type:REGISTER_USER_FAIL,\n         payload:error.response.data.errMessage\n     })\n    }\n }\n\n //load user\n export const loadUser = ()=>async(dispatch)=>{\n     console.log(\"im in load user\");\n    try{\n      dispatch({\n          type:LOAD_USER_REQUEST\n     })\n    \n const {data} = await axios.get(\"http://localhost:3001/auth/me\");\n console.log(\"loaduserdata\",data);\n//  console.log(\"stripeApiKey\",stripeApiKey);\n//  const {stripeData} = await axios.get(\"http://localhost:3001/user/payment/stripeApi\");\n//  console.log(\"stripeData\",stripeData)\n//  setStripeApiKey(stripeData.stripeApiKey);\n dispatch({\n     type:LOAD_USER_SUCCESS,\n     payload:data.user\n })\n// }\n    }catch(error){\n      console.log(\"Error\",error);\n     dispatch({\n         type:LOAD_USER_FAIL,\n         payload:error.response.data.errMessage\n     })\n    }\n }\n\n //logout user\n export const logoutUser = ()=>async(dispatch)=>{\n    console.log(\"im in load user\");\n   try{\n  const {data} = await axios.get(\"http://localhost:3001/auth/logout\");\nconsole.log(\"logoutuserdata\",data);\ndispatch({\n    type:LOGOUT_SUCCESS\n})\n}catch(error){\n    console.log(\"logouterrpr\",error);\n    dispatch({\n        type:LOGOUT_FAIL,\n        payload:error.response.data.errMessage\n    })\n   }\n}\n\n//register user\nexport const updateProfile = (userData)=>async(dispatch)=>{\n    console.log(\"im in register\");\n    try{\n      dispatch({\n          type:UPDATE_PROFILE_REQUEST\n     })\n     const config={\n       headers:{\n           'Content-Type':'multipart/form-data'\n       }\n     }\n const {data} = await axios.put(\"http://localhost:3001/auth/me/update\",userData,config)\n console.log(\"userdata\",data);\n dispatch({\n     type:UPDATE_PROFILE_SUCCESS,\n     payload:data.success\n })\n \n    }catch(error){\n     dispatch({\n         type:UPDATE_PROFILE_FAIL,\n         payload:error.response.data.errMessage\n     })\n    }\n }\n\n//update password\nexport const updatePassword = (passwords)=>async(dispatch)=>{\n    console.log(\"im in update password\");\n    try{\n      dispatch({\n          type:UPDATE_PASSWORD_REQUEST\n     })\n     const config={\n       headers:{\n           'Content-Type':'application/json'\n       }\n     }\n const {data} = await axios.put(\"http://localhost:3001/auth/password/updatepassword\",passwords,config)\n console.log(\"userdata\",data);\n dispatch({\n     type:UPDATE_PASSWORD_SUCCESS,\n     payload:data.success\n })\n \n    }catch(error){\n        console.log(\"error\",error.response);\n     dispatch({\n         type:UPDATE_PASSWORD_FAIL,\n         payload:error.response.data.errMessage\n     })\n    }\n }\n\n //reset password\n export const resetPassword = (token,passwords)=>async(dispatch)=>{\n    console.log(\"im in new password\");\n    try{\n      dispatch({\n          type:NEW_PASSWORD_REQUEST\n     })\n     const config={\n       headers:{\n           'Content-Type':'application/json'\n       }\n     }\n const {data} = await axios.put(`http://localhost:3001/auth/password/reset/${token}`,passwords,config)\n console.log(\"userdata\",data);\n dispatch({\n     type:NEW_PASSWORD_SUCCESS,\n     payload:data.success\n })\n \n    }catch(error){\n        console.log(\"error\",error.response);\n     dispatch({\n         type:NEW_PASSWORD_FAIL,\n         payload:error.response.data.errMessage\n     })\n    }\n }\n\n  //forgot password\n  export const forgotPassword = (email)=>async(dispatch)=>{\n    console.log(\"im in forgot password\");\n    console.log(\"email\",email);\n    try{\n      dispatch({\n          type:FORGOT_PASSWORD_REQUEST\n     })\n     const config={\n       headers:{\n           'Content-Type':'application/json'\n       }\n     }\n const {data} = await axios.post(\"http://localhost:3001/auth/password/forgot\",email,config)\n console.log(\"userdata\",data);\n dispatch({\n     type:FORGOT_PASSWORD_SUCCESS,\n     payload:data.message\n })\n \n    }catch(error){\n        console.log(\"error\",error.response);\n     dispatch({\n         type:FORGOT_PASSWORD_FAIL,\n         payload:error.response.data.errMessage\n     })\n    }\n }\n\n export const getAllUsers = ()=>async(dispatch)=>{\n    console.log(\"im in get users\");\n   try{\n     dispatch({\n         type:ALL_USERS_REQUEST\n    })\n   \nconst {data} = await axios.get(\"http://localhost:3001/auth/admin/users\");\nconsole.log(\"Allusersdata\",data);\n\ndispatch({\n    type:ALL_USERS_SUCCESS,\n    payload:data.users\n})\n// }\n   }catch(error){\n       console.log(\"im in cathc\");\n       console.log(\"error\",error);\n    dispatch({\n        type:ALL_USERS_FAIL,\n        payload:error.response.data.errMessage\n    })\n   }\n}\n\n\nexport const updateUser = (id, userData) => async (dispatch) => {\n    try {\n\n        dispatch({ type: UPDATE_USER_REQUEST })\n\n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        }\n\n        const { data } = await axios.put(`http://localhost:3001/auth/admin/user/${id}`, userData, config)\n\n        dispatch({\n            type: UPDATE_USER_SUCCESS,\n            payload: data.success\n        })\n\n    } catch (error) {\n        dispatch({\n            type: UPDATE_USER_FAIL,\n            payload: error.response.data.errMessage\n        })\n    }\n}\n\nexport const getUserDetails = (id) => async (dispatch) => {\n    try {\n\n    dispatch({ type: USER_DETAILS_REQUEST })\n const { data } = await axios.get(`http://localhost:3001/auth/admin/user/${id}`)\n\n        dispatch({\n            type: USER_DETAILS_SUCCESS,\n            payload: data.user\n        })\n\n    } catch (error) {\n        dispatch({\n            type: USER_DETAILS_FAIL,\n            payload: error.response.data.errMessage\n        })\n    }\n}\n\n// Delete user - ADMIN\nexport const deleteUser = (id) => async (dispatch) => {\n    console.log(\"im in delete user\")\n    console.log(\"id\",id);\n    try {\n\n dispatch({ type: DELETE_USER_REQUEST })\n  const { data } = await axios.delete(`http://localhost:3001/auth/admin/user/${id}`);\n  console.log(\"deleteData\",data);  \n  dispatch({\n            type: DELETE_USER_SUCCESS,\n            payload: data.success\n        })\n\n    } catch (error) {\n        dispatch({\n            type: DELETE_USER_FAIL,\n            payload: error.response.data.errMessage\n        })\n    }\n}\n//clear error\nexport const clearErrors = ()=>async(dispatch)=>{\n    dispatch({\n        type:CLEAR_ERRORS\n    })\n }"]},"metadata":{},"sourceType":"module"}