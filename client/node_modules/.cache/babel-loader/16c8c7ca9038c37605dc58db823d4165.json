{"ast":null,"code":"import React,{useState,useEffect}from'react';import{MDBDataTable}from'mdbreact';// import { MDBDataTable } from 'mdbreact';\nimport Loader from\"../layouts/loader\";import MetaData from'../layouts/MetaData';import{useAlert}from'react-alert';import{useDispatch,useSelector}from'react-redux';import{myOrders,clearErrors}from'../../actions/orderActions';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ListOrders=function ListOrders(){var alert=useAlert();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.myOrders;}),loading=_useSelector.loading,error=_useSelector.error,orders=_useSelector.orders;var _useSelector2=useSelector(function(state){return state.auth;}),token=_useSelector2.token;useEffect(function(){// console.log(\"im in useEffect\");\ndispatch(myOrders(token));if(error){alert.error(error);dispatch(clearErrors());}//    console.log(\"im in list orders\");\n},[error,alert,dispatch]);var setOrders=function setOrders(){var data={columns:[{label:'Order ID',field:'id',sort:'asc'},{label:'Number Of Items',field:'numOfItems',sort:'asc'},{label:'Amount',field:'amount',sort:'asc'},{label:'Status',field:'status',sort:'asc'},{label:'Actions',field:'actions',sort:'asc'}],rows:[]};orders.forEach(function(order){data.rows.push({id:order._id,numOfItems:order.orderItems.length,amount:\"$\".concat(order.totalPrice),status:order.orderStatus&&String(order.orderStatus).includes(\"Delivered\")?/*#__PURE__*/_jsx(\"p\",{style:{color:\"green\"},children:order.orderStatus}):/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:order.orderStatus}),actions:/*#__PURE__*/_jsx(Link,{to:\"/order/\".concat(order._id),className:\"btn btn-primary\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-eye\"})})});});return data;};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'My Orders'}),/*#__PURE__*/_jsx(\"h1\",{className:\"mt-5\",children:\"My Orders\"}),loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(MDBDataTable,{data:setOrders(),className:\"px-3\",bordered:true,striped:true,hover:true})]});};export default ListOrders;","map":{"version":3,"sources":["/Users/ruchikaashokbharati/Documents/Projects/Ecommerce/Ecommerce-Backend-main/client/src/components/order/ListOrders.js"],"names":["React","useState","useEffect","MDBDataTable","Loader","MetaData","useAlert","useDispatch","useSelector","myOrders","clearErrors","Link","ListOrders","alert","dispatch","state","loading","error","orders","auth","token","setOrders","data","columns","label","field","sort","rows","forEach","order","push","id","_id","numOfItems","orderItems","length","amount","totalPrice","status","orderStatus","String","includes","color","actions"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport { MDBDataTable } from 'mdbreact'\n// import { MDBDataTable } from 'mdbreact';\nimport Loader from \"../layouts/loader\";\nimport MetaData from '../layouts/MetaData';\nimport { useAlert } from 'react-alert';\nimport { useDispatch,useSelector } from 'react-redux';\nimport { myOrders,clearErrors } from '../../actions/orderActions';\nimport { Link } from 'react-router-dom';\nconst ListOrders = () => {\n    const alert = useAlert();\n    const dispatch = useDispatch();\n    const {loading,error,orders} = useSelector(state=>state.myOrders);\n    const {token} = useSelector(state=>state.auth)\n    useEffect(() => {\n        // console.log(\"im in useEffect\");\n       dispatch(myOrders(token))\n       if(error){\n        alert.error(error);\n        dispatch(clearErrors());\n    }\n    //    console.log(\"im in list orders\");\n    }, [error,alert,dispatch])\n    \n    const setOrders = ()=>{\n      const data = {\n          columns:[\n              {\n                  label:'Order ID',\n                  field:'id',\n                  sort:'asc'\n              },{\n                  label:'Number Of Items',\n                  field:'numOfItems',\n                  sort:'asc'\n              },{\n                label:'Amount',\n                field:'amount',\n                sort:'asc'\n            },\n            {\n                label:'Status',\n                field:'status',\n                sort:'asc'\n            },\n            {\n                label:'Actions',\n                field:'actions',\n                sort:'asc'\n            }\n          ],\n          rows:[\n\n          ]\n        }\n        orders.forEach(order=>{\n            data.rows.push({\n                id:order._id,\n                numOfItems:order.orderItems.length,\n                amount:`$${order.totalPrice}`,\n                status:order.orderStatus && String(order.orderStatus).includes(\"Delivered\")?\n                <p style={{color:\"green\"}}>{order.orderStatus}</p>:\n                <p style={{color:\"red\"}}>{order.orderStatus}</p>,\n                actions:<Link to={`/order/${order._id}`} className=\"btn btn-primary\">\n                    <i className=\"fa fa-eye\"></i>\n                </Link>\n            })\n        })\n        return data;\n    }\n    return (\n        <>\n       <MetaData title={'My Orders'}></MetaData>\n       <h1 className=\"mt-5\">My Orders</h1>\n       {loading?<Loader/>:\n        <MDBDataTable\n        data={setOrders()}\n        className=\"px-3\"\n        bordered\n        striped\n        hover\n    />\n       \n       }\n       </>\n    )\n}\n\nexport default ListOrders\n"]},"metadata":{},"sourceType":"module"}