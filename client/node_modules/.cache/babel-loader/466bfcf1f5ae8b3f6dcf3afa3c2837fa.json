{"ast":null,"code":"var _jsxFileName = \"/Users/ruchikaashokbharati/Documents/Projects/Ecommerce1/Ecommerce-Backend-main/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport Header from \"./components/layouts/Header\";\nimport Footer from \"./components/layouts/Footer\";\nimport Home from \"./components/Home\";\nimport Productdetails from \"./components/product/productdetails\"; // import {BrowserRouter as Router,Route} from \"react-router-dom\";\n\nimport Profile from \"./components/user/Profile\";\nimport { Route, Switch, useLocation, Redirect } from \"react-router-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport ProtectedRoute from \"./components/route/ProtectedRoute\";\nimport Login from \"./components/user/Login\";\nimport UpdateProfile from \"./components/user/updateProfile\";\nimport Register from \"./components/user/Register\";\nimport { loadUser } from './actions/userActions';\nimport { useEffect, useState } from \"react\";\nimport store from \"./store\";\nimport UpdatePassword from \"./components/user/UpdatePassword\";\nimport ForgotPassword from \"./components/user/ForgotPassword\";\nimport NewPassword from \"./components/user/NewPassword\";\nimport Cart from \"./components/cart/Cart\";\nimport Shipping from \"./components/cart/Shipping\";\nimport ConfirmOrder from \"./components/cart/ConfirmOrder\";\nimport axios from \"axios\";\nimport Payment from \"./components/cart/Payment\";\nimport { Elements } from '@stripe/react-stripe-js';\nimport { loadStripe } from '@stripe/stripe-js';\nimport OrderSuccess from \"./components/cart/OrderSuccess\";\nimport ListOrders from \"./components/order/ListOrders\";\nimport ProductList from \"./components/admin/ProductList\";\nimport OrderDetails from \"./components/order/Order_Details\";\nimport NewProduct from \"./components/admin/NewProduct\";\nimport UpdateProduct from \"./components/admin/UpdateProduct\"; //admin imports\n\nimport Dashboard from \"./components/admin/Dashboard\";\nimport OrderList from \"./components/admin/OrderList\";\nimport ProcessOrder from \"./components/admin/ProcessOrder\";\nimport UsersList from \"./components/admin/UsersList\";\nimport UpdateUser from './components/admin/UpdateUser';\nimport ProductReviews from './components/admin/ProductReview'; // import userEvent from \"@testing-library/user-event\";\n\nimport { useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  // const {stripeApiKey} = useSelector(state => state.stripe);\n  const [stripeApiKey, setStripeApiKey] = useState(\"\");\n  const {\n    user,\n    isAuthenticated,\n    loading,\n    token\n  } = useSelector(state => state.auth);\n  console.log(\"app compo rerender\"); // async function getStripeApiKey(){\n  // const {data} = await axios.get(\"http://localhost:3001/user/payment/stripeApi\");\n  // console.log(\"stripeData\",data)\n  // setStripeApiKey(data.stripeApiKey);\n  // }\n\n  useEffect(() => {\n    async function getData() {\n      // console.log(\"token\",token);\n      const config = {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `${token}`\n        }\n      };\n      const {\n        data\n      } = await axios.get(\"http://localhost:3001/user/payment/stripeApi\", config);\n      console.log(\"stripeData\", data);\n      setStripeApiKey(data.stripeApiKey);\n    }\n\n    getData();\n  }, []); // useEffect(() => {\n  // console.log(\"im in app useeffect\");\n  // store.dispatch(loadUser())\n  // setStripeApiKey1(stripeApiKey1);\n  // getStripeApiKey();\n  // },[isAuthenticated,stripeApiKey1])\n\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container container-fluid\",\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          component: Home,\n          exact: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/search/:keyword\",\n          component: Home,\n          exact: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/product/:id\",\n          component: Productdetails,\n          exact: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/cart\",\n          component: Cart,\n          exact: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          path: \"/shipping\",\n          component: Shipping,\n          exact: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          path: \"/confirm\",\n          exact: true,\n          component: ConfirmOrder\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          path: \"/success\",\n          component: OrderSuccess,\n          exact: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 7\n        }, this), stripeApiKey && /*#__PURE__*/_jsxDEV(Elements, {\n          stripe: loadStripe(stripeApiKey),\n          children: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n            path: \"/payment\",\n            component: Payment\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          component: Login,\n          exact: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/register\",\n          component: Register,\n          exact: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/password/forgot\",\n          component: ForgotPassword,\n          exact: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/password/reset/:token\",\n          component: NewPassword,\n          exact: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          path: \"/me\",\n          component: Profile,\n          exact: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          path: \"/me/update\",\n          component: UpdateProfile,\n          exact: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          path: \"/me/password\",\n          component: UpdatePassword,\n          exact: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          path: \"/orders/me\",\n          component: ListOrders,\n          exact: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          path: \"/order/:id\",\n          component: OrderDetails,\n          exact: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        path: \"/dashboard\",\n        isAdmin: true,\n        component: Dashboard,\n        exact: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        path: \"/admin/products\",\n        component: ProductList,\n        exact: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        path: \"/admin/product\",\n        component: NewProduct,\n        exact: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        path: \"/admin/orders\",\n        component: OrderList,\n        exact: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        path: \"/admin/product/:id\",\n        component: UpdateProduct,\n        exact: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        path: \"/admin/order/:id\",\n        component: ProcessOrder,\n        exact: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        path: \"/admin/users\",\n        component: UsersList,\n        exact: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        path: \"/admin/user/:id\",\n        isAdmin: true,\n        component: UpdateUser,\n        exact: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        path: \"/admin/reviews\",\n        isAdmin: true,\n        component: ProductReviews,\n        exact: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 7\n      }, this), !loading && (!isAuthenticated || user.role !== 'admin') && /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"aomowohXZstht3wiP0rGA9aGEQY=\", false, function () {\n  return [useSelector];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/ruchikaashokbharati/Documents/Projects/Ecommerce1/Ecommerce-Backend-main/client/src/App.js"],"names":["Header","Footer","Home","Productdetails","Profile","Route","Switch","useLocation","Redirect","BrowserRouter","ProtectedRoute","Login","UpdateProfile","Register","loadUser","useEffect","useState","store","UpdatePassword","ForgotPassword","NewPassword","Cart","Shipping","ConfirmOrder","axios","Payment","Elements","loadStripe","OrderSuccess","ListOrders","ProductList","OrderDetails","NewProduct","UpdateProduct","Dashboard","OrderList","ProcessOrder","UsersList","UpdateUser","ProductReviews","useSelector","App","stripeApiKey","setStripeApiKey","user","isAuthenticated","loading","token","state","auth","console","log","getData","config","headers","data","get","role"],"mappings":"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","sourcesContent":["import Header from \"./components/layouts/Header\";\nimport Footer from \"./components/layouts/Footer\";\nimport Home from \"./components/Home\";\nimport Productdetails from \"./components/product/productdetails\";\n// import {BrowserRouter as Router,Route} from \"react-router-dom\";\nimport Profile from \"./components/user/Profile\";\nimport {Route,Switch,useLocation,Redirect} from \"react-router-dom\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport ProtectedRoute from \"./components/route/ProtectedRoute\";\nimport Login from \"./components/user/Login\";\nimport UpdateProfile from \"./components/user/updateProfile\";\nimport Register from \"./components/user/Register\";\nimport { loadUser } from './actions/userActions'\nimport {useEffect,useState} from \"react\";\nimport store from \"./store\";\nimport UpdatePassword from \"./components/user/UpdatePassword\";\nimport ForgotPassword from \"./components/user/ForgotPassword\";\nimport NewPassword from \"./components/user/NewPassword\";\nimport Cart from \"./components/cart/Cart\";\nimport Shipping from \"./components/cart/Shipping\";\nimport ConfirmOrder from \"./components/cart/ConfirmOrder\";\nimport axios from \"axios\";\nimport Payment from \"./components/cart/Payment\";\nimport { Elements } from '@stripe/react-stripe-js';\nimport { loadStripe } from '@stripe/stripe-js';\nimport OrderSuccess from \"./components/cart/OrderSuccess\";\nimport ListOrders from \"./components/order/ListOrders\";\nimport ProductList from \"./components/admin/ProductList\";\nimport OrderDetails from \"./components/order/Order_Details\";\nimport NewProduct from \"./components/admin/NewProduct\";\nimport UpdateProduct from \"./components/admin/UpdateProduct\";\n//admin imports\nimport Dashboard from \"./components/admin/Dashboard\";\nimport OrderList from \"./components/admin/OrderList\";\nimport ProcessOrder from \"./components/admin/ProcessOrder\";\nimport UsersList from \"./components/admin/UsersList\";\nimport UpdateUser from './components/admin/UpdateUser';\nimport ProductReviews from './components/admin/ProductReview'\n// import userEvent from \"@testing-library/user-event\";\nimport {useSelector} from \"react-redux\";\nfunction App() {\n  // const {stripeApiKey} = useSelector(state => state.stripe);\n  const [stripeApiKey,setStripeApiKey] = useState(\"\");\n  const { user, isAuthenticated, loading,token } = useSelector(state => state.auth);\n  console.log(\"app compo rerender\");\n  // async function getStripeApiKey(){\n    // const {data} = await axios.get(\"http://localhost:3001/user/payment/stripeApi\");\n    // console.log(\"stripeData\",data)\n    // setStripeApiKey(data.stripeApiKey);\n  // }\n  useEffect(()=>{\n    async function getData(){\n      // console.log(\"token\",token);\n      const config={\n        headers:{\n            'Content-Type':'application/json',\n            'Authorization': `${token}`\n        }\n      }\n      const {data} = await axios.get(\"http://localhost:3001/user/payment/stripeApi\",config);\n      console.log(\"stripeData\",data);\n      setStripeApiKey(data.stripeApiKey);\n    }\n    getData();\n  },[])\n  // useEffect(() => {\n    // console.log(\"im in app useeffect\");\n    // store.dispatch(loadUser())\n    // setStripeApiKey1(stripeApiKey1);\n    // getStripeApiKey();\n  // },[isAuthenticated,stripeApiKey1])\n  return (\n    <BrowserRouter>\n    <div className=\"App\">\n    <Header/>\n    {/* showing products routes */}\n    \n    <div className=\"container container-fluid\">\n      <Route path=\"/\" component={Home} exact></Route>\n      <Route path=\"/search/:keyword\" component={Home} exact></Route>\n      <Route path=\"/product/:id\" component={Productdetails} exact></Route>\n      <Route path=\"/cart\" component={Cart} exact></Route>\n      \n      {/* confirm order routes */}\n     \n      <ProtectedRoute path=\"/shipping\" component={Shipping} exact/>\n      <ProtectedRoute path=\"/confirm\" exact component={ConfirmOrder}/>\n      <ProtectedRoute path=\"/success\" component={OrderSuccess} exact></ProtectedRoute>\n  \n       {stripeApiKey && \n              <Elements stripe={loadStripe(stripeApiKey)}> \n        <ProtectedRoute path=\"/payment\" component={Payment} />\n             </Elements> }\n        \n     \n     {/* Authenticate user routes */}\n     <Route path=\"/login\" component={Login} exact></Route>\n      <Route path=\"/register\" component={Register} exact/>\n      <Route path=\"/password/forgot\" component={ForgotPassword} exact/>\n      <Route path=\"/password/reset/:token\" component={NewPassword} exact/>\n\n      {/* profile routes */}\n     \n      <ProtectedRoute path=\"/me\" component={Profile} exact></ProtectedRoute>\n      <ProtectedRoute path=\"/me/update\" component={UpdateProfile} exact/>\n      <ProtectedRoute path=\"/me/password\" component={UpdatePassword} exact/>\n     \n     {/* order routes */}\n      \n      <ProtectedRoute path=\"/orders/me\" component={ListOrders} exact/>\n      <ProtectedRoute path=\"/order/:id\" component={OrderDetails} exact/>\n      </div>\n      {/* admin routes */}\n      <ProtectedRoute path=\"/dashboard\" isAdmin={true} component={Dashboard} exact></ProtectedRoute>\n      <ProtectedRoute path=\"/admin/products\" component={ProductList} exact/>\n      <ProtectedRoute path=\"/admin/product\" component={NewProduct} exact/>\n      <ProtectedRoute path=\"/admin/orders\" component={OrderList} exact/>\n      <ProtectedRoute path=\"/admin/product/:id\" component={UpdateProduct} exact/>\n      <ProtectedRoute path=\"/admin/order/:id\" component={ProcessOrder} exact/>\n      <ProtectedRoute path=\"/admin/users\" component={UsersList} exact></ProtectedRoute>\n      <ProtectedRoute path=\"/admin/user/:id\" isAdmin={true} component={UpdateUser} exact />\n      <ProtectedRoute path=\"/admin/reviews\" isAdmin={true} component={ProductReviews} exact />\n      {!loading && (!isAuthenticated || user.role !== 'admin') && (\n          <Footer />\n        )}\n    </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}