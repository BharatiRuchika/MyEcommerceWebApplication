(this["webpackJsonpfirst-react-app"]=this["webpackJsonpfirst-react-app"]||[]).push([[0],{228:function(e,t){function c(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}c.keys=function(){return[]},c.resolve=c,e.exports=c,c.id=228},451:function(e,t){},453:function(e,t){},464:function(e,t){},466:function(e,t){},48:function(e,t,c){},492:function(e,t){},494:function(e,t){},495:function(e,t){},500:function(e,t){},502:function(e,t){},508:function(e,t){},510:function(e,t){},529:function(e,t){},541:function(e,t){},544:function(e,t){},586:function(e,t,c){"use strict";c.r(t);var a=c(4),r=c(2),s=c(20),n=c.n(s),o=c(16),l=c(7),i=c(8),d=c.n(i),j=(c(48),c(11)),u=c(25),b=c(1),m=function(e){var t=e.history,c=Object(r.useState)(""),a=Object(l.a)(c,2),s=a[0],n=a[1];return Object(b.jsx)("div",{children:Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault(),console.log("keyword",s),s.trim()?t.push("/search/".concat(s)):t.push("/")},children:Object(b.jsxs)("div",{className:"input-group",children:[Object(b.jsx)("input",{type:"text",id:"search_field",className:"form-control",placeholder:"Enter Product Name ...",onChange:function(e){n(e.target.value)}}),Object(b.jsx)("div",{className:"input-group-append",children:Object(b.jsx)("button",{id:"search_btn",className:"btn",children:Object(b.jsx)("i",{className:"fa fa-search","aria-hidden":"true"})})})]})})})},p=c(6),O=c(14),h="LOGIN_REQUEST",x="LOGIN_SUCCESS",f="LOGIN_FAIL",g="CLEAR_ERRORS",v="REGISTER_USER_REQUEST",y="REGISTER_USER_SUCCESS",N="REGISTER_USER_FAIL",w="LOAD_USER_REQUEST",S="LOAD_USER_SUCCESS",E="LOAD_USER_FAIL",_="LOGOUT_SUCCESS",C="LOGOUT_FAIL",R="UPDATE_PASSWORD_REQUEST",D="UPDATE_PASSWORD_SUCCESS",P="UPDATE_PASSWORD_FAIL",I="UPDATE_PASSWORD_RESET",U="UPDATE_PROFILE_REQUEST",F="UPDATE_PROFILE_SUCCESS",A="UPDATE_PROFILE_SUCCESS",k="UPDATE_PROFILE_RESET",T="FORGOT_PASSWORD_SUCCESS",L="FORGOT_PROFILE_FAIL",M="FORGOT_PASSWORD_REQUEST",W="NEW_PASSWORD_SUCCESS",Q="NEW_PROFILE_FAIL",V="NEW_PASSWORD_REQUEST",q="ALL_USERS_REQUEST",$="ALL_USERS_SUCCESS",G="ALL_USERS_FAIL",B="UPDATE_USER_REQUEST",H="UPDATE_USER_SUCCESS",J="UPDATE_USER_SUCCESS",Y="UPDATE_USER_RESET",z="USER_DETAILS_REQUEST",K="USER_DETAILS_SUCCESS",X="USER_DETAILS_FAIL",Z="DELETE_USER_REQUEST",ee="DELETE_USER_SUCCESS",te="DELETE_USER_RESET",ce="DELETE_USER_FAIL",ae=c(19),re=c.n(ae),se=function(){return function(){var e=Object(o.a)(d.a.mark((function e(t){var c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("im in load user"),e.prev=1,t({type:w}),e.next=5,re.a.get("https://my-ecommerce-web-application.vercel.app/auth/me");case 5:c=e.sent,a=c.data,console.log("loaduserdata",a),t({type:S,payload:a.user}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("Error",e.t0),t({type:E,payload:e.t0.response.data.errMessage});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},ne=function(){return function(){var e=Object(o.a)(d.a.mark((function e(t){var c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("im in get users"),e.prev=1,t({type:q}),e.next=5,re.a.get("https://my-ecommerce-web-application.vercel.app/auth/admin/users");case 5:c=e.sent,a=c.data,console.log("Allusersdata",a),t({type:$,payload:a.users}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("im in cathc"),console.log("error",e.t0),t({type:G,payload:e.t0.response.data.errMessage});case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},oe=function(){return function(){var e=Object(o.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:g});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},le=function(){var e=Object(O.d)(),t=Object(p.b)(),c=Object(p.c)((function(e){return e.auth})),a=c.user,r=c.loading,s=Object(p.c)((function(e){return e.cart})).cartItems;console.log("cartItems",s);var n=function(){t(function(){var e=Object(o.a)(d.a.mark((function e(t){var c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("im in load user"),e.prev=1,e.next=4,re.a.get("https://my-ecommerce-web-application.vercel.app/auth/logout");case 4:c=e.sent,a=c.data,console.log("logoutuserdata",a),t({type:_}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("logouterrpr",e.t0),t({type:C,payload:e.t0.response.data.errMessage});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()),e.success("Logged out Successfully...")};return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("nav",{className:"navbar row",children:[Object(b.jsx)("div",{className:"col-12 col-md-3",children:Object(b.jsx)("div",{className:"navbar-brand",children:Object(b.jsx)(j.b,{to:"/",children:Object(b.jsx)("img",{src:"/images/shopit_logo.png"})})})}),Object(b.jsx)("div",{className:"col-12 col-md-6 mt-2 mt-md-0",children:Object(b.jsx)(u.b,{render:function(e){var t=e.history;return Object(b.jsx)(m,{history:t})}})}),Object(b.jsxs)("div",{className:"col-12 col-md-3 mt-4 mt-md-0 text-center",children:[a&&"user"===a.role&&Object(b.jsxs)(j.b,{to:"/cart",style:{textDecoration:"none"},children:[Object(b.jsx)("span",{id:"cart",className:"ml-3",children:"Cart"}),Object(b.jsx)("span",{className:"ml-1",id:"cart_count",children:null==s?0:s.length})]}),a?Object(b.jsxs)("div",{className:"ml-4 dropdown d-inline",children:[Object(b.jsxs)(j.b,{to:"#!",className:"btn dropdown-toggle text-white mr-4",type:"button",id:"dropDownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(b.jsx)("figure",{className:"avatar avatar-nav",children:Object(b.jsx)("img",{src:a.avatar&&a.avatar.url,alt:a&&a.name,className:"rounded-circle"})}),Object(b.jsx)("span",{children:a&&a.name})]}),Object(b.jsx)("div",{className:"dropdown-menu","aria-labelledby":"dropDownMenuButton",children:a&&"admin"===a.role?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(j.b,{to:"/dashboard",className:"dropdown-item",children:"Dashboard"}),Object(b.jsx)(j.b,{to:"/me",className:"dropdown-item",children:"Profile"}),Object(b.jsx)(j.b,{className:"dropdown-item text-danger",onClick:n,to:"/",children:"Logout"})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(j.b,{to:"/orders/me",className:"dropdown-item",children:"Orders"}),Object(b.jsx)(j.b,{to:"/me",className:"dropdown-item",children:"Profile"}),Object(b.jsx)(j.b,{className:"dropdown-item text-danger",onClick:n,to:"/",children:"Logout"})]})})]}):!r&&Object(b.jsx)(j.b,{to:"/login",className:"btn ml-4",id:"login_btn",children:"Login"})]})]})})},ie=function(){return Object(b.jsx)("div",{children:Object(b.jsx)("footer",{className:"py-1",children:Object(b.jsx)("p",{className:"text-center mt-1",children:"Shopping Cart - 2019-2020, All Rights Reserved"})})})},de=c(242),je=function(e){var t=e.title;return Object(b.jsx)(de.a,{children:Object(b.jsx)("title",{children:"".concat(t," - shopIt")})})},ue=function(e){var t=e.product,c=e.col,a=Object(p.c)((function(e){return e.auth})),r=a.user;a.loading;return Object(b.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-".concat(c," my-3"),children:Object(b.jsxs)("div",{className:"card p-3 rounded",children:[Object(b.jsx)("img",{className:"card-img-top mx-auto",src:t.images[0].url}),Object(b.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(b.jsx)("h5",{className:"card-title",children:r&&"user"===r.role?Object(b.jsx)(j.b,{to:"/product/".concat(t._id),children:t.name}):Object(b.jsx)("p",{children:t.name})}),Object(b.jsxs)("div",{className:"ratings mt-auto",children:[Object(b.jsx)("div",{className:"rating-outer",children:Object(b.jsx)("div",{className:"rating-inner",style:{width:"".concat(t.ratings/5*100,"%")}})}),Object(b.jsxs)("span",{id:"no_of_reviews",children:["(",t.numOfReviews," Reviews)"]})]}),Object(b.jsxs)("p",{className:"card-text",children:["$",t.price]}),r&&"user"===r.role&&Object(b.jsx)(j.b,{to:"/product/".concat(t._id),id:"view_btn",className:"btn btn-block",children:"View Details"})]})]})})},be="ALL_PRODUCTS_REQUEST",me="ALL_PRODUCTS_SUCCESS",pe="ALL_PRODUCTS_FAIL",Oe="PRODUCTS_DETAILS_REQUEST",he="PRODUCTS_DETAILS_SUCCESS",xe="PRODUCTS_DETAILS_FAIL",fe="NEW_REVIEW_FAIL",ge="NEW_REVIEW_SUCCESS",ve="NEW_REVIEW_REQUEST",ye="NEW_REVIEW_RESET",Ne="ADMIN_PRODUCTS_REQUEST",we="ADMIN_PRODUCTS_SUCCESS",Se="ADMIN_PRODUCTS_FAIL",Ee="NEW_PRODUCTS_FAIL",_e="NEW_PRODUCT_SUCCESS",Ce="NEW_PRODUCT_REQUEST",Re="NEW_PRODUCT_RESET",De="DELETE_PRODUCT_FAIL",Pe="DELETE_PRODUCT_SUCCESS",Ie="DELETE_PRODUCT_REQUEST",Ue="DELETE_PRODUCT_RESET",Fe="GET_REVIEWS_REQUEST",Ae="GET_REVIEWS_SUCCESS",ke="GET_REVIEWS_FAIL",Te="UPDATE_PRODUCT_FAIL",Le="UPDATE_PRODUCT_SUCCESS",Me="UPDATE_PRODUCT_REQUEST",We="UPDATE_PRODUCT_RESET",Qe="DELETE_REVIEW_REQUEST",Ve="DELETE_REVIEW_SUCCESS",qe="DELETE_REVIEW_RESET",$e="DELETE_REVIEW_FAIL",Ge="CLEAR_ERRORS",Be=function(e){return function(){var t=Object(o.a)(d.a.mark((function t(c){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("im in product details actions"),c({type:Oe}),t.next=5,re.a.get("https://my-ecommerce-web-application.vercel.app/products/getproduct/".concat(e));case 5:a=t.sent,r=a.data,console.log("actiondata",r.product),c({type:he,payload:r.product}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),c({type:xe,payload:t.t0.response.data.errMessage});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},He=function(){return function(){var e=Object(o.a)(d.a.mark((function e(t){var c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("im in admin product details actions"),t({type:Ne}),e.next=5,re.a.get("https://my-ecommerce-web-application.vercel.app/products/admin/getproducts");case 5:c=e.sent,a=c.data,console.log("actiondata",a.product),t({type:we,payload:a.products}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Se,payload:e.t0.response.data.errMessage});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},Je=function(e){return function(){var t=Object(o.a)(d.a.mark((function t(c){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("im in review action"),c({type:Fe}),t.next=5,re.a.get("https://my-ecommerce-web-application.vercel.app/products/reviews?id=".concat(e));case 5:a=t.sent,r=a.data,console.log("reviewData",r),c({type:Ae,payload:r.reviews}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),c({type:ke,payload:t.t0.response.data.errMessage});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},Ye=function(){return function(){var e=Object(o.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Ge});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ze=function(){return Object(b.jsx)("div",{className:"loader"})},Ke=c(245),Xe=c.n(Ke),Ze=c(129),et=(c(363),(0,Ze.a.createSliderWithTooltip)(Ze.a.Range)),tt=function(e){var t=e.match;console.log("im in home componennt");var c=Object(r.useState)(1),a=Object(l.a)(c,2),s=a[0],n=a[1],i=Object(r.useState)([1,1e3]),j=Object(l.a)(i,2),u=j[0],m=j[1],h=Object(r.useState)(""),x=Object(l.a)(h,2),f=x[0],g=x[1],v=Object(r.useState)(0),y=Object(l.a)(v,2),N=y[0],w=y[1],S=Object(p.b)(),E=Object(O.d)(),_=Object(p.c)((function(e){return e.products})),C=_.filteredProductsCount,R=_.loading,D=_.products,P=_.error,I=_.productsCount,U=_.resPerPage,F=t.params.keyword;console.log("filteredProductsCount",C),Object(r.useEffect)((function(){if(console.log("im in useEffetc"),P)return E.error(P);console.log("current page home",s),S(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return function(){var s=Object(o.a)(d.a.mark((function s(n){var o,l,i;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return console.log("im in get Products"),console.log("currentPage",t),console.log("keyword",e),console.log("getcategory",a),s.prev=4,n({type:be}),o="https://my-ecommerce-web-application.vercel.app/products/getproducts?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0],"&ratings[gte]=").concat(r),a&&(o="https://my-ecommerce-web-application.vercel.app/products/getproducts?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0],"&category=").concat(a,"&ratings[gte]=").concat(r)),s.next=10,re.a.get(o);case 10:l=s.sent,i=l.data,console.log("productdata",i),n({type:me,payload:i}),s.next=19;break;case 16:s.prev=16,s.t0=s.catch(4),n({type:pe,payload:s.t0.response.data.errMessage});case 19:case"end":return s.stop()}}),s,null,[[4,16]])})));return function(e){return s.apply(this,arguments)}}()}(F,s,u,f,N)),console.log("products",D)}),[S,E,P,F,s,u,f,N]);var A=I;return C&&(A=C),console.log("count",A),Object(b.jsx)(r.Fragment,{children:R?Object(b.jsx)(ze,{}):Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(je,{title:"Buy Best Products Online"}),Object(b.jsx)("h1",{id:"products_heading",children:"Latest Products"}),Object(b.jsx)("section",{id:"products",className:"container mt-5",children:Object(b.jsx)("div",{className:"row",children:F?Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)("div",{className:"col-6 col-md-3 mt-5 mb-5",children:Object(b.jsxs)("div",{className:"px-5",children:[Object(b.jsx)(et,{marks:{1:"$1",1e3:"$1000"},min:1,max:1e3,defaultValue:[1,1e3],tipFormatter:function(e){return"$".concat(e)},tipProps:{placement:"top",visible:!0},value:u,onChange:function(e){return m(e)}}),Object(b.jsx)("hr",{className:"my-5"}),Object(b.jsxs)("div",{className:"mt-5",children:[Object(b.jsx)("h4",{className:"mb-3",children:"Categories"}),Object(b.jsx)("ul",{className:"pl-0",children:["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","outdoor","Home"].map((function(e){return Object(b.jsx)("li",{style:{cursor:"pointer",listStyleType:"none"},onClick:function(){return g(e)},children:e},e)}))})]}),Object(b.jsx)("hr",{className:"my-3"}),Object(b.jsxs)("div",{className:"mt-5",children:[Object(b.jsx)("h4",{className:"mb-3",children:"Ratings"}),Object(b.jsx)("ul",{className:"pl-0",children:[5,4,3,2,1].map((function(e){return Object(b.jsx)("li",{style:{cursor:"pointer",listStyleType:"none"},onClick:function(){return w(e)},children:Object(b.jsx)("div",{className:"rating-outer",children:Object(b.jsx)("div",{className:"rating-inner",style:{width:"".concat(20*e,"%")}})})},e)}))})]})]})}),Object(b.jsx)("div",{className:"col-6 col-md-9",children:Object(b.jsx)("div",{className:"row",children:D.map((function(e){return Object(b.jsx)(ue,{product:e,col:4},e._id)}))})})]}):D.map((function(e){return Object(b.jsx)(ue,{product:e,col:3},e._id)}))})}),U<=A&&Object(b.jsx)("div",{className:"d-flex justify-content-center mt-5",children:Object(b.jsx)(Xe.a,{activePage:s,itemsCountPerPage:U,totalItemsCount:I,onChange:function(e){n(e)},nextPageText:"Next",prevPageText:"Prev",firstPageText:"First",lastPageText:"Last",itemClass:"page-item",linkClass:"page-link"})})]})})},ct=function(e){var t=e.reviews;return Object(b.jsxs)("div",{class:"reviews w-75",children:[Object(b.jsx)("h3",{children:"Other's Reviews:"}),Object(b.jsx)("hr",{}),t&&t.map((function(e){return Object(b.jsxs)("div",{class:"review-card my-3",children:[Object(b.jsx)("div",{class:"rating-outer",children:Object(b.jsx)("div",{class:"rating-inner",style:{width:"".concat(e.rating/5*100,"%")}})}),Object(b.jsxs)("p",{class:"review_user",children:["by ",e.name]}),Object(b.jsx)("p",{class:"review_comment",children:e.comment}),Object(b.jsx)("hr",{})]},e._id)}))]})},at=c(593),rt="ADD_TO_CART",st="REMOVE_CART_ITEM",nt="SAVE_SHIPPING_INFO",ot="REMOVE_ALL_ITEMS",lt=function(e,t){return function(){var c=Object(o.a)(d.a.mark((function c(a,r){var s,n;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,re.a.get("https://my-ecommerce-web-application.vercel.app/products/getProduct/".concat(e));case 2:s=c.sent,n=s.data,a({type:rt,payload:{product:n.product._id,name:n.product.name,price:n.product.price,image:n.product.images[0].url,stock:n.product.stock,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 6:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()},it=function(e){var t=e.match,c=Object(r.useState)(1),a=Object(l.a)(c,2),s=a[0],n=a[1],i=Object(r.useState)(""),j=Object(l.a)(i,2),u=j[0],m=j[1],h=Object(r.useState)(0),x=Object(l.a)(h,2),f=x[0],g=x[1],v=Object(p.b)(),y=Object(O.d)();console.log(t.params.id);var N=Object(p.c)((function(e){return e.productDetails})),w=N.loading,S=N.error,E=N.product,_=Object(p.c)((function(e){return e.auth})).user,C=Object(p.c)((function(e){return e.newReview})),R=C.error,D=C.success;console.log("loading",w),console.log("product",E),Object(r.useEffect)((function(){console.log("im in useEffect"),console.log(t.params.id),v(Be(t.params.id)),S&&(y.error(S),v(Ge)),R&&(y.error(S),v(Ge)),D&&(y.success("Reivew posted successfully"),v({type:ye}))}),[v,y,S,R,D]);return Object(b.jsx)(b.Fragment,{children:w?Object(b.jsx)(ze,{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"row f-flex justify-content-around",children:[Object(b.jsx)("div",{className:"col-12 col-lg-5 img-fluid",id:"product_image",children:Object(b.jsx)(at.a,{pause:"hover",children:E&&E.images&&E.images.map((function(e){return Object(b.jsx)(at.a.Item,{children:Object(b.jsx)("img",{className:"d-block w-100",src:e.url,alt:E.title})},e.public_id)}))})}),Object(b.jsxs)("div",{className:"col-12 col-lg-5 mt-5",children:[Object(b.jsx)("h3",{children:E.name}),Object(b.jsxs)("p",{id:E,children:["Product # ",E._id]}),Object(b.jsx)("hr",{}),Object(b.jsx)("div",{className:"rating-outer",children:Object(b.jsx)("div",{className:"rating-inner",style:{width:"".concat(E.ratings/5*100,"%")}})}),Object(b.jsxs)("span",{id:"no_of_reviews",children:["(",E.numOfReviews," Reviews)"]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("p",{id:"product_price",children:["$",E.price]}),Object(b.jsxs)("div",{className:"stockCounter d-inline",children:[Object(b.jsx)("span",{className:"btn btn-danger minus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber<=1)){var t=e.valueAsNumber-1;n(t)}},children:"-"}),Object(b.jsx)("input",{type:"number",className:"form-control count d-inline",value:s,readOnly:!0}),Object(b.jsx)("span",{className:"btn btn-primary plus",onClick:function(){var e=document.querySelector(".count");if(console.log("stock",E.stock),!(e.valueAsNumber>=E.stock)){var t=e.valueAsNumber+1;n(t)}},children:"+"})]}),Object(b.jsx)("button",{type:"button",id:"cart_btn",className:"btn btn-primary d-inline ml-4",disabled:0===E.stock,onClick:function(){v(lt(t.params.id,s)),y.success("item added to cart")},children:"Add to Cart"}),Object(b.jsx)("hr",{}),Object(b.jsxs)("p",{children:["Status: ",Object(b.jsx)("span",{id:"stock_status",className:E.stock>0?"greenColor":"redColor",children:E.stock>0?"In Stock":"Out of Stock"})]}),Object(b.jsx)("hr",{}),Object(b.jsx)("h4",{className:"mt-2",children:"Description:"}),Object(b.jsx)("p",{children:E.description}),Object(b.jsx)("hr",{}),Object(b.jsxs)("p",{id:"product_seller mb-3",children:["Sold by: ",Object(b.jsx)("strong",{children:E.seller})]}),_?Object(b.jsx)("button",{id:"review_btn",type:"button",className:"btn btn-primary mt-4","data-toggle":"modal","data-target":"#ratingModal",onClick:function(){var e=document.querySelectorAll(".star");function t(t){var c=this;e.forEach((function(e,a){"click"===t.type&&(a<c.starValue?(e.classList.add("orange"),g(c.starValue)):e.classList.remove("orange")),"mouseover"===t.type&&(a<c.starValue?e.classList.add("yellow"):e.classList.remove("yellow")),"mouseout"===t.type&&e.classList.remove("yellow")}))}console.log("stars",e),e.forEach((function(e,c){e.starValue=c+1,["click","mouseover","mouseout"].forEach((function(c){e.addEventListener(c,t)}))}))},children:"Submit Your Review"}):Object(b.jsx)("div",{className:"alert alert-danger mt-5",children:" Login to submit your review"}),Object(b.jsx)("div",{className:"row mt-2 mb-5",children:Object(b.jsx)("div",{className:"rating w-50",children:Object(b.jsx)("div",{className:"modal fade",id:"ratingModal",tabIndex:"-1",role:"dialog","aria-labelledby":"ratingModalLabel","aria-hidden":"true",children:Object(b.jsx)("div",{className:"modal-dialog",role:"document",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsx)("h5",{className:"modal-title",id:"ratingModalLabel",children:"Submit Review"}),Object(b.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(b.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(b.jsxs)("div",{className:"modal-body",children:[Object(b.jsxs)("ul",{className:"stars",children:[Object(b.jsx)("li",{className:"star",children:Object(b.jsx)("i",{className:"fa fa-star"})}),Object(b.jsx)("li",{className:"star",children:Object(b.jsx)("i",{className:"fa fa-star"})}),Object(b.jsx)("li",{className:"star",children:Object(b.jsx)("i",{className:"fa fa-star"})}),Object(b.jsx)("li",{className:"star",children:Object(b.jsx)("i",{className:"fa fa-star"})}),Object(b.jsx)("li",{className:"star",children:Object(b.jsx)("i",{className:"fa fa-star"})})]}),Object(b.jsx)("textarea",{name:"review",id:"review",className:"form-control mt-3",value:u,onChange:function(e){return m(e.target.value)}}),Object(b.jsx)("button",{className:"btn my-3 float-right review-btn px-4 text-white",onClick:function(){console.log("im in review handker"),console.log("rating",f),console.log("comment",u),console.log("productId",t.params.id);var e,c=new FormData;c.set("rating",f),c.set("comment",u),c.set("productId",t.params.id),v((e=c,function(){var t=Object(o.a)(d.a.mark((function t(c){var a,r,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("im in new review action"),console.log("reviewdata",e),t.prev=2,console.log("im in product details actions"),c({type:ve}),a={headers:{"Content-Type":"application/json"}},t.next=8,re.a.put("https://my-ecommerce-web-application.vercel.app/products/review",e,a);case 8:r=t.sent,s=r.data,console.log("newreviewdata",s.success),c({type:ge,payload:s.success}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),c({type:fe,payload:t.t0.response.data.errMessage});case 17:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}()))},"data-dismiss":"modal","aria-label":"Close",children:"Submit"})]})]})})})})})]})]}),E.reviews&&E.reviews.length>0&&Object(b.jsx)(ct,{reviews:E.reviews})]})})},dt=function(){var e=Object(p.c)((function(e){return e.auth})),t=e.user,c=e.loading;return Object(b.jsx)(b.Fragment,{children:c?Object(b.jsx)(ze,{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(je,{title:"Your Profile"}),"  ",Object(b.jsx)("h2",{className:"mt-5 ml-5",children:"My Profile"}),Object(b.jsxs)("div",{className:"row justify-content-around mt-5 user-info",children:[Object(b.jsxs)("div",{className:"col-12 col-md-3",children:[Object(b.jsx)("figure",{className:"avatar avatar-profile",children:Object(b.jsx)("img",{className:"rounded-circle img-fluid",src:t.avatar.url,alt:t.name})}),Object(b.jsx)(j.b,{to:"/me/update",id:"edit_profile",className:"btn btn-primary btn-block my-5",children:"Edit Profile"})]}),Object(b.jsxs)("div",{className:"col-12 col-md-5",children:[Object(b.jsx)("h4",{children:"Full Name"}),Object(b.jsx)("p",{children:t.name}),Object(b.jsx)("h4",{children:"Email Address"}),Object(b.jsx)("p",{children:t.email}),Object(b.jsx)("h4",{children:"Joined On"}),Object(b.jsx)("p",{children:String(t.createdAt).substring(0,10)}),"admin"!==t.role&&Object(b.jsx)(j.b,{to:"/orders/me",className:"btn btn-danger btn-block mt-5",children:"My Orders"}),Object(b.jsx)(j.b,{to:"/me/password",className:"btn btn-primary btn-block mt-3",children:"Change Password"})]})]})]})})},jt=c(28),ut=(c(364),["component"]),bt=function(e){var t=e.component,c=Object(jt.a)(e,ut),r=Object(p.c)((function(e){return e.auth})),s=r.isAdmin,n=r.isAuthenticated,o=r.user,l=r.loading;return console.log("im in protected route"),console.log("isAuthenticated",n),console.log("loading",l),Object(b.jsx)(b.Fragment,{children:!1===l&&Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(u.b,Object(a.a)(Object(a.a)({},c),{},{render:function(e){return!1===n?Object(b.jsx)(u.a,{to:"/login"}):!0===s&&"admin"!==o.role?Object(b.jsx)(u.a,{to:"/"}):Object(b.jsx)(t,Object(a.a)({},e))}}))})})},mt=function(e){var t=e.history,c=e.location,a=Object(r.useState)(""),s=Object(l.a)(a,2),n=s[0],i=s[1],u=Object(r.useState)(""),m=Object(l.a)(u,2),g=m[0],v=m[1],y=Object(O.d)(),N=Object(p.b)(),w=Object(p.c)((function(e){return e.auth})),S=w.isAuthenticated,E=w.loading,_=w.error;console.log("location",c);var C=c.search?c.search.split("=")[1]:"/";console.log("redirect",C),Object(r.useEffect)((function(){S&&t.push(C),console.log("im in login"),_&&(console.log("error is true",_),y.error(_),N(oe()))}),[N,y,S,_,t]);return Object(b.jsx)(b.Fragment,{children:E?Object(b.jsx)(ze,{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(je,{title:"Login"}),Object(b.jsx)("div",{className:"row wrapper",children:Object(b.jsx)("div",{className:"col-10 col-lg-5",children:Object(b.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),console.log("im in submit handler"),console.log(n,g),N(function(e,t){return function(){var c=Object(o.a)(d.a.mark((function c(a){var r,s,n;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return console.log("im in login"),c.prev=1,a({type:h}),r={headers:{"Content-Type":"application/json"}},c.next=6,re.a.post("https://my-ecommerce-web-application.vercel.app/auth/login",{email:e,password:t},r);case 6:s=c.sent,n=s.data,console.log("loginuserdata",n),a({type:x,payload:n.user}),c.next=17;break;case 12:c.prev=12,c.t0=c.catch(1),console.log("im in login catch"),console.log("error",c.t0.response.data.errMessage),a({type:f,payload:c.t0.response.data.errMessage});case 17:case"end":return c.stop()}}),c,null,[[1,12]])})));return function(e){return c.apply(this,arguments)}}()}(n,g))},children:[Object(b.jsx)("h1",{className:"mb-3",children:"Login"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(b.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:n,onChange:function(e){return i(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(b.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:g,onChange:function(e){return v(e.target.value)}})]}),Object(b.jsx)(j.b,{to:"/password/forgot",className:"float-right mb-4",children:"Forgot Password?"}),Object(b.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",children:"LOGIN"}),Object(b.jsx)(j.b,{to:"/register",className:"float-right mt-3",children:"New User?"})]})})})]})})},pt=function(e){var t=e.history,c=Object(r.useState)(""),a=Object(l.a)(c,2),s=a[0],n=a[1],i=Object(r.useState)(""),j=Object(l.a)(i,2),u=j[0],m=j[1],h=Object(r.useState)(""),x=Object(l.a)(h,2),f=x[0],g=x[1],v=Object(r.useState)("/images/default_avatar.jpg"),y=Object(l.a)(v,2),N=y[0],w=y[1],S=Object(O.d)(),E=Object(p.b)(),_=Object(p.c)((function(e){return e.auth})).user,C=Object(p.c)((function(e){return e.user})),R=C.isUpdated,D=C.loading,P=C.error;Object(r.useEffect)((function(){_&&(n(_.name),m(_.email),w(_.avatar.url)),P&&(S.error(P),E(oe())),R&&(S.success("user updated successfully"),E(se()),t.push("/me"),E({type:k}))}),[E,S,R,P,t]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(je,{title:"Update Profile"}),Object(b.jsx)("div",{className:"row wrapper",children:Object(b.jsx)("div",{className:"col-10 col-lg-5",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",s),c.set("email",u),c.set("avatar",f),E((t=c,function(){var e=Object(o.a)(d.a.mark((function e(c){var a,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("im in register"),e.prev=1,c({type:U}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=6,re.a.put("https://my-ecommerce-web-application.vercel.app/auth/me/update",t,a);case 6:r=e.sent,s=r.data,console.log("userdata",s),c({type:F,payload:s.success}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),c({type:A,payload:e.t0.response.data.errMessage});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()))},className:"shadow-lg",encType:"multipart/form-data",children:[Object(b.jsx)("h1",{className:"mt-2 mb-5",children:"Update Profile"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(b.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(b.jsx)("input",{type:"email",id:"email_field",name:"email",className:"form-control",value:u,onChange:function(e){return m(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)("div",{children:Object(b.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(b.jsx)("img",{src:N,className:"rounded-circle",alt:"Avatar Preview"})})}),Object(b.jsxs)("div",{className:"custom-file",children:[Object(b.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"image/*",onChange:function(e){var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=function(){2==t.readyState&&(w(t.result),g(t.result))}}}),Object(b.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(b.jsx)("button",{type:"submit",disabled:!!D,className:"btn update-btn btn-block mt-4 mb-3",children:"Update"})]})})})]})},Ot=c(12),ht=function(e){var t=e.history,c=Object(r.useState)({name:"",email:"",password:""}),s=Object(l.a)(c,2),n=s[0],i=s[1],j=n.name,u=n.email,m=n.password,h=Object(r.useState)(""),x=Object(l.a)(h,2),f=(x[0],x[1]),g=Object(r.useState)("/images/default_avatar.jpg"),w=Object(l.a)(g,2),S=w[0],E=w[1],_=Object(O.d)(),C=Object(p.b)(),R=Object(p.c)((function(e){return e.auth})),D=R.isAuthenticated,P=R.loading,I=R.error;D&&(_.success("user registered successfully"),t.push("/")),Object(r.useEffect)((function(){I&&(_.error(I),C(oe()))}),[C,_,D,I,t]);var U=function(e){if("avatar"===e.target.name){var t=new FileReader;console.log("image",e.target.files[0]),t.readAsDataURL(e.target.files[0]),t.onload=function(){2==t.readyState&&(E(t.result),f(t.result))}}else i(Object(a.a)(Object(a.a)({},n),{},Object(Ot.a)({},e.target.name,[e.target.value])))};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(je,{title:"Register User"}),Object(b.jsx)("div",{className:"row wrapper",children:Object(b.jsx)("div",{className:"col-10 col-lg-5",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("avatar",S),c.set("name",j),c.set("email",u),c.set("password",m),C((t=c,function(){var e=Object(o.a)(d.a.mark((function e(c){var a,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("im in register"),e.prev=1,c({type:v}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=6,re.a.post("https://my-ecommerce-web-application.vercel.app/auth/register",t,a);case 6:r=e.sent,s=r.data,console.log("registerdata",s),c({type:y,payload:s.user}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("error",e.t0.response),c({type:N,payload:e.t0.response.data.errMessage});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()))},className:"shadow-lg",encType:"multipart/form-data",children:[Object(b.jsx)("h1",{className:"mb-3",children:"Register"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(b.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:j,onChange:U})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(b.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:u,onChange:U})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(b.jsx)("input",{type:"password",id:"password_field",className:"form-control",name:"password",value:m,onChange:U})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)("div",{children:Object(b.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(b.jsx)("img",{src:S,className:"rounded-circle",alt:"Avatar Preview"})})}),Object(b.jsxs)("div",{className:"custom-file",children:[Object(b.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"images/*",onChange:U}),Object(b.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(b.jsx)("button",{id:"register_button",type:"submit",className:"btn btn-block py-3",disabled:!!P,children:"REGISTER"})]})})})]})},xt=c(67),ft=c(253),gt=c(252),vt=c(27),yt="CREATE_ORDER_REQUEST",Nt="CREATE_ORDER_SUCCESS",wt="CREATE_ORDER_FAIL",St="MY_ORDERS_REQUEST",Et="MY_ORDERS_SUCCESS",_t="MY_ORDERS_FAIL",Ct="ORDER_DETAILS_REQUEST",Rt="ORDER_DETAILS_SUCCESS",Dt="ORDER_DETAILS_FAIL",Pt="ALL_ORDERS_REQUEST",It="ALL_ORDERS_SUCCESS",Ut="ALL_ORDERS_FAIL",Ft="UPDATE_ORDER_REQUEST",At="UPDATE_ORDER_SUCCESS",kt="UPDATE_ORDER_FAIL",Tt="UPDATE_ORDER_RESET",Lt="DELETE_ORDER_REQUEST",Mt="DELETE_ORDER_SUCCESS",Wt="DELETE_ORDER_RESET",Qt="DELETE_ORDER_FAIL",Vt="CLEAR_ERRORS",qt=Object(xt.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:case Ne:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case me:return{loading:!1,products:t.payload.products,productsCount:t.payload.productsCount,resPerPage:t.payload.resPerPage,filteredProductsCount:t.payload.filteredProductsCount};case we:return{loading:!1,products:t.payload};case pe:case Se:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case Ge:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case he:return{loading:!1,product:t.payload};case xe:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case Ge:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:case h:case v:return console.log("im in load user request0"),{loading:!0,isAuthenticated:!1};case S:case x:case y:return console.log("im in LOAD_USER_SUCCESS"),console.log("user",t.payload),Object(a.a)(Object(a.a)({},e),{},{loading:!1,isAuthenticated:!0,user:t.payload});case E:return{loading:!1,isAuthenticated:!1,user:null,error:t.payload};case _:return{loading:!1,isAuthenticated:!1,user:null};case C:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case f:case N:return console.log("im in login fail"),console.log(t.payload),Object(a.a)(Object(a.a)({},e),{},{loading:!1,isAuthenticated:!1,user:null,error:t.payload});case g:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:case R:case B:case Z:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case F:case D:case H:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isUpdated:t.payload});case ee:return console.log("deletde",t.payload),Object(a.a)(Object(a.a)({},e),{},{loading:!1,isDeleted:t.payload});case A:case P:case J:case ce:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case k:case I:case Y:return Object(a.a)(Object(a.a)({},e),{},{isUpdated:!1});case te:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1});case g:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:case V:return Object(a.a)(Object(a.a)({},e),{},{loading:!0,error:null});case T:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,message:t.payload});case W:return Object(a.a)(Object(a.a)({},e),{},{success:t.payload});case L:case Q:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case g:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],ShippingInfo:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rt:var c=t.payload,r=e.cartItems.find((function(e){return e.product===c.product}));return r?Object(a.a)(Object(a.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===r.product?c:e}))}):Object(a.a)(Object(a.a)({},e),{},{cartItems:[].concat(Object(vt.a)(e.cartItems),[c])});case st:return Object(a.a)(Object(a.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case ot:return Object(a.a)(Object(a.a)({},e),{},{cartItems:null});case nt:return Object(a.a)(Object(a.a)({},e),{},{shippingInfo:t.payload});default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ct:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Rt:return console.log("im in order suceess reducer"),console.log(t.payload),{loading:!1,order:t.payload};case Dt:return{loading:!1,error:t.payload};case Vt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yt:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Nt:return{loading:!1,order:t.payload};case wt:return{loading:!1,error:t.payload};case Vt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},myOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case St:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Et:return console.log("im in order suceess reducer"),console.log(t.payload),{loading:!1,orders:t.payload};case _t:return{loading:!1,error:t.payload};case Vt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},newProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case _e:return{loading:!1,success:t.payload.success,product:t.payload.product};case Ee:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case Re:return Object(a.a)(Object(a.a)({},e),{},{success:!1});case Ge:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},deleteProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:case Me:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Pe:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isDeleted:t.payload});case Le:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isUpdated:t.payload});case De:case Te:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case Ue:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1});case We:return Object(a.a)(Object(a.a)({},e),{},{isUpdated:!1});case Ge:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},allOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pt:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case It:return console.log("im in order suceess reducer"),console.log(t.payload),{loading:!1,orders:t.payload.orders,amount:t.payload.total_amount};case Ut:return{loading:!1,error:t.payload};case Vt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},updateOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ft:case Lt:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case At:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isUpdated:t.payload});case Mt:return console.log("im in delete order case"),console.log(t.payload),Object(a.a)(Object(a.a)({},e),{},{loading:!1,isDeleted:t.payload});case kt:case Qt:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case Tt:return Object(a.a)(Object(a.a)({},e),{},{isUpdated:!1});case Wt:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1});case Vt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},allUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case $:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,users:t.payload});case G:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case g:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case K:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,user:t.payload});case X:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case g:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},productReviews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{review:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Ae:return{loading:!1,reviews:t.payload};case ke:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case Ge:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},newReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case ge:return{loading:!1,success:t.payload};case fe:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case ye:return Object(a.a)(Object(a.a)({},e),{},{success:!1});case Ge:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},review:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Ve:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isDeleted:t.payload});case $e:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case qe:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1});case Ge:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}}}),$t={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],ShippingInfo:localStorage.getItem("shippinginfo")?JSON.parse(localStorage.getItem("shippinginfo")):[]}},Gt=[ft.a],Bt=Object(xt.createStore)(qt,$t,Object(gt.composeWithDevTools)(xt.applyMiddleware.apply(void 0,Gt))),Ht=function(e){var t=e.history,c=Object(r.useState)(""),a=Object(l.a)(c,2),s=a[0],n=a[1],i=Object(r.useState)(""),j=Object(l.a)(i,2),u=j[0],m=j[1],h=Object(O.d)(),x=Object(p.b)(),f=(Object(p.c)((function(e){return e.auth})).user,Object(p.c)((function(e){return e.user}))),g=f.isUpdated,v=f.loading,y=f.error;Object(r.useEffect)((function(){y&&(h.error(y),x(oe())),g&&(h.success("password updated successfully"),t.push("/me"),x({type:I}))}),[x,h,g,y,t]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(je,{title:"change password"}),Object(b.jsx)("div",{className:"row wrapper",children:Object(b.jsx)("div",{className:"col-10 col-lg-5",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("oldPassword",s),c.set("newPassword",u),x((t=c,function(){var e=Object(o.a)(d.a.mark((function e(c){var a,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("im in update password"),e.prev=1,c({type:R}),a={headers:{"Content-Type":"application/json"}},e.next=6,re.a.put("https://my-ecommerce-web-application.vercel.app/auth/password/updatepassword",t,a);case 6:r=e.sent,s=r.data,console.log("userdata",s),c({type:D,payload:s.success}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("error",e.t0.response),c({type:P,payload:e.t0.response.data.errMessage});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()))},className:"shadow-lg",children:[Object(b.jsx)("h1",{className:"mt-2 mb-5",children:"Update Password"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"old_password_field",children:"Old Password"}),Object(b.jsx)("input",{type:"password",id:"old_password_field",className:"form-control",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"new_password_field",children:"New Password"}),Object(b.jsx)("input",{type:"password",id:"new_password_field",className:"form-control",value:u,onChange:function(e){return m(e.target.value)}})]}),Object(b.jsx)("button",{type:"submit",disabled:!!v,className:"btn update-btn btn-block mt-4 mb-3",children:"Update Password"})]})})})]})},Jt=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1],s=Object(O.d)(),n=Object(p.b)(),i=Object(p.c)((function(e){return e.forgotPassword})),j=i.message,u=i.error,m=i.loading;Object(r.useEffect)((function(){u&&(s.error(u),n(oe())),j&&s.success(j)}),[n,s,u,j]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(je,{title:"Forgot Password"}),Object(b.jsx)("div",{className:"row wrapper",children:Object(b.jsx)("div",{className:"col-10 col-lg-5",children:Object(b.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("email",c),n(function(e){return function(){var t=Object(o.a)(d.a.mark((function t(c){var a,r,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("im in forgot password"),console.log("email",e),t.prev=2,c({type:M}),a={headers:{"Content-Type":"application/json"}},t.next=7,re.a.post("https://my-ecommerce-web-application.vercel.app/auth/password/forgot",e,a);case 7:r=t.sent,s=r.data,console.log("userdata",s),c({type:T,payload:s.message}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),console.log("error",t.t0.response),c({type:L,payload:t.t0.response.data.errMessage});case 17:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}()}(t))},children:[Object(b.jsx)("h1",{className:"mb-3",children:"Forgot Password"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email_field",children:"Enter Email"}),Object(b.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(b.jsx)("button",{id:"forgot_password_button",type:"submit",disabled:!!m,className:"btn btn-block py-3",children:"Send Email"})]})})})]})},Yt=function(e){var t=e.history,c=e.match,a=Object(r.useState)(""),s=Object(l.a)(a,2),n=s[0],i=s[1],j=Object(r.useState)(""),u=Object(l.a)(j,2),m=u[0],h=u[1],x=Object(O.d)(),f=Object(p.b)(),g=Object(p.c)((function(e){return e.forgotPassword})),v=g.error,y=g.success;Object(r.useEffect)((function(){v&&(x.error(v),f(oe())),y&&(x.success("password updated successfully"),t.push("/login"))}),[f,x,v,y,t]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(je,{title:"Reset Password"}),Object(b.jsx)("div",{className:"row wrapper",children:Object(b.jsx)("div",{className:"col-10 col-lg-5",children:Object(b.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,a,r=new FormData;r.set("password",n),r.set("confirmpassword",m),f((t=c.params.token,a=r,function(){var e=Object(o.a)(d.a.mark((function e(c){var r,s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("im in new password"),e.prev=1,c({type:V}),r={headers:{"Content-Type":"application/json"}},e.next=6,re.a.put("https://my-ecommerce-web-application.vercel.app/auth/password/reset/".concat(t),a,r);case 6:s=e.sent,n=s.data,console.log("userdata",n),c({type:W,payload:n.success}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("error",e.t0.response),c({type:Q,payload:e.t0.response.data.errMessage});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(b.jsx)("h1",{className:"mb-3",children:"New Password"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(b.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:n,onChange:function(e){return i(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"confirm_password_field",children:"Confirm Password"}),Object(b.jsx)("input",{type:"password",id:"confirm_password_field",className:"form-control",value:m,onChange:function(e){return h(e.target.value)}})]}),Object(b.jsx)("button",{id:"new_password_button",type:"submit",className:"btn btn-block py-3",children:"Set Password"})]})})})]})},zt=function(e){var t=e.history,c=Object(p.b)(),a=Object(p.c)((function(e){return e.cart})).cartItems,s=function(e){c(function(e){return function(){var t=Object(o.a)(d.a.mark((function t(c,a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:st,payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()}(e))};return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(je,{title:"Your Cart"}),0===a.length?Object(b.jsx)("h2",{className:"mt-5",children:"Your Cart is Empty"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("h2",{className:"mt-5",children:["Your Cart: ",Object(b.jsxs)("b",{children:[a.length," items"]})]}),Object(b.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(b.jsx)("div",{className:"col-12 col-lg-8",children:a.map((function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("hr",{}),Object(b.jsx)("div",{className:"cart-item",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-4 col-lg-3",children:Object(b.jsx)("img",{src:e.image,alt:"Laptop",height:"90",width:"115"})}),Object(b.jsx)("div",{className:"col-5 col-lg-3",children:Object(b.jsx)(j.b,{to:"/products/".concat(e.product),children:e.name})}),Object(b.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(b.jsxs)("p",{id:"card_item_price",children:["$",e.price]})}),Object(b.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(b.jsxs)("div",{className:"stockCounter d-inline",children:[Object(b.jsx)("span",{className:"btn btn-danger minus",onClick:function(){return function(e,t,a){var r=t-1;console.log("stock",a),r<1||c(lt(e,r))}(e.product,e.quantity)},children:"-"}),Object(b.jsx)("input",{type:"number",className:"form-control count d-inline",value:e.quantity,readOnly:!0}),Object(b.jsx)("span",{className:"btn btn-primary plus",onClick:function(){return function(e,t,a){var r=t+1;console.log("stock",a),r>a||c(lt(e,r))}(e.product,e.quantity,e.stock)},children:"+"})]})}),Object(b.jsx)("div",{className:"col-4 col-lg-1 mt-4 mt-lg-0",children:Object(b.jsx)("i",{id:"delete_cart_item",className:"fa fa-trash btn btn-danger",onClick:function(){return s(e.product)}})})]})},e.product),Object(b.jsx)("hr",{})]})}))}),Object(b.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(b.jsxs)("div",{id:"order_summary",children:[Object(b.jsx)("h4",{children:"Order Summary"}),Object(b.jsx)("hr",{}),Object(b.jsxs)("p",{children:["Subtotal:  ",Object(b.jsxs)("span",{className:"order-summary-values",children:[a.reduce((function(e,t){return e+Number(t.quantity)}),0)," (Units)"]})]}),Object(b.jsxs)("p",{children:["Est. total: ",Object(b.jsxs)("span",{className:"order-summary-values",children:["$",a.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2)]})]}),Object(b.jsx)("hr",{}),Object(b.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){t.push("/login?redirect=shipping")},children:"Check out"})]})})]})]})]})},Kt=c(254),Xt=function(e){var t=e.shipping,c=e.confirmOrder,a=e.payment;return Object(b.jsxs)("div",{className:"checkout-progress d-flex justify-content-center mt-5",children:[t?Object(b.jsxs)(j.b,{to:"/shipping",className:"float-right",children:[Object(b.jsx)("div",{className:"triangle2-active"}),Object(b.jsx)("div",{className:"step active-step",children:"Shipping"}),Object(b.jsx)("div",{className:"triangle-active"})]}):Object(b.jsxs)(j.b,{to:"#!",disabled:!0,children:[Object(b.jsx)("div",{className:"triangle2-incomplete"}),Object(b.jsx)("div",{className:"step incomplete",children:"Shipping"}),Object(b.jsx)("div",{className:"triangle-incomplete"})]}),c?Object(b.jsxs)(j.b,{to:"/order/confirm",className:"float-right",children:[Object(b.jsx)("div",{className:"triangle2-active"}),Object(b.jsx)("div",{className:"step active-step",children:"Confirm Order"}),Object(b.jsx)("div",{className:"triangle-active"})]}):Object(b.jsxs)(j.b,{to:"#!",disabled:!0,children:[Object(b.jsx)("div",{className:"triangle2-incomplete"}),Object(b.jsx)("div",{className:"step incomplete",children:"Confirm Order"}),Object(b.jsx)("div",{className:"triangle-incomplete"})]}),a?Object(b.jsxs)(j.b,{to:"/payment",className:"float-right",children:[Object(b.jsx)("div",{className:"triangle2-active"}),Object(b.jsx)("div",{className:"step active-step",children:"Payment"}),Object(b.jsx)("div",{className:"triangle-active"})]}):Object(b.jsxs)(j.b,{to:"#!",disabled:!0,children:[Object(b.jsx)("div",{className:"triangle2-incomplete"}),Object(b.jsx)("div",{className:"step incomplete",children:"Payment"}),Object(b.jsx)("div",{className:"triangle-incomplete"})]})]})},Zt=function(e){var t=e.history,c=Object.values(Kt.countries),a=Object(p.c)((function(e){return e.cart})).ShippingInfo,s=Object(r.useState)(a.address),n=Object(l.a)(s,2),i=n[0],j=n[1],u=Object(r.useState)(a.city),m=Object(l.a)(u,2),O=m[0],h=m[1],x=Object(r.useState)(a.postalCode),f=Object(l.a)(x,2),g=f[0],v=f[1],y=Object(r.useState)(a.phoneNo),N=Object(l.a)(y,2),w=N[0],S=N[1],E=Object(r.useState)(a.country),_=Object(l.a)(E,2),C=_[0],R=_[1],D=Object(p.b)();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(je,{title:"Shipping Info"}),Object(b.jsx)(Xt,{shipping:!0}),Object(b.jsx)("div",{className:"row wrapper",children:Object(b.jsx)("div",{className:"col-10 col-lg-5",children:Object(b.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){var c;e.preventDefault(),D((c={address:i,city:O,phoneNo:w,postalCode:g,country:C},function(){var e=Object(o.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:nt,payload:c}),localStorage.setItem("shippinginfo",JSON.stringify(c));case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}())),t.push("/confirm")},children:[Object(b.jsx)("h1",{className:"mb-4",children:"Shipping Info"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"address_field",children:"Address"}),Object(b.jsx)("input",{type:"text",id:"address_field",className:"form-control",value:i,onChange:function(e){return j(e.target.value)},required:!0})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"city_field",children:"City"}),Object(b.jsx)("input",{type:"text",id:"city_field",className:"form-control",value:O,onChange:function(e){return h(e.target.value)},required:!0})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"phone_field",children:"Phone No"}),Object(b.jsx)("input",{type:"phone",id:"phone_field",className:"form-control",value:w,onChange:function(e){return S(e.target.value)},required:!0})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"postal_code_field",children:"Postal Code"}),Object(b.jsx)("input",{type:"number",id:"postal_code_field",className:"form-control",value:g,onChange:function(e){return v(e.target.value)},required:!0})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"country_field",children:"Country"}),Object(b.jsx)("select",{id:"country_field",className:"form-control",value:C,onChange:function(e){return R(e.target.value)},required:!0,children:c.map((function(e){return Object(b.jsx)("option",{value:e.name,children:e.name},e.name)}))})]}),Object(b.jsx)("button",{id:"shipping_btn",type:"submit",className:"btn btn-block py-3",children:"CONTINUE"})]})})})]})},ec=function(e){var t=e.history,c=Object(p.c)((function(e){return e.cart})),a=c.cartItems,r=c.ShippingInfo,s=Object(p.c)((function(e){return e.auth})).user,n=a.reduce((function(e,t){return e+t.price*t.quantity}),0),o=n>200?0:25,l=Number((.05*n).toFixed(2)),i=(o+l+n).toFixed(2);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(je,{title:"Shipping Info"}),Object(b.jsx)(Xt,{shipping:!0,confirmOrder:!0}),Object(b.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(b.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-confirm",children:[Object(b.jsx)("h4",{className:"mb-3",children:"Shipping Info"}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Name:"})," ",s&&s.name]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Phone:"})," ",r.phoneNo]}),Object(b.jsxs)("p",{className:"mb-4",children:[Object(b.jsx)("b",{children:"Address:"}),("".concat(r.address),"".concat(r.city),"".concat(r.postalCode),"".concat(r.country))]}),Object(b.jsx)("hr",{}),Object(b.jsx)("h4",{className:"mt-4",children:"Your Cart Items:"}),a.map((function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("hr",{}),Object(b.jsx)("div",{className:"cart-item my-1",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-4 col-lg-2",children:Object(b.jsx)("img",{src:e.image,alt:"Laptop",height:"45",width:"65"})}),Object(b.jsx)("div",{className:"col-5 col-lg-6",children:Object(b.jsx)(j.b,{to:"/product/".concat(e.product),children:e.name})}),Object(b.jsx)("div",{className:"col-4 col-lg-4 mt-4 mt-lg-0",children:Object(b.jsxs)("p",{children:[e.quantity," x $",e.price,"= ",Object(b.jsxs)("b",{children:["$",(e.quantity*e.price).toFixed(2)]})]})})]})},e.product),Object(b.jsx)("hr",{})]})}))]}),Object(b.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(b.jsxs)("div",{id:"order_summary",children:[Object(b.jsx)("h4",{children:"Order Summary"}),Object(b.jsx)("hr",{}),Object(b.jsxs)("p",{children:["Subtotal:  ",Object(b.jsxs)("span",{className:"order-summary-values",children:["$",n]})]}),Object(b.jsxs)("p",{children:["Shipping: ",Object(b.jsxs)("span",{className:"order-summary-values",children:["$",o]})]}),Object(b.jsxs)("p",{children:["Tax:  ",Object(b.jsxs)("span",{className:"order-summary-values",children:["$",l]})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("p",{children:["Total: ",Object(b.jsxs)("span",{className:"order-summary-values",children:["$",i]})]}),Object(b.jsx)("hr",{}),Object(b.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){console.log("im in proceed to payment");var e={itemPrice:n.toFixed(2),shippingPrice:o,taxPrice:l,totalPrice:i};sessionStorage.setItem("orderInfo",JSON.stringify(e)),t.push("/payment")},children:"Proceed to Payment"})]})})]})]})},tc=function(e){return function(){var t=Object(o.a)(d.a.mark((function t(c,a){var r,s,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("im in create order"),console.log("order",e),t.prev=2,c({type:yt}),r={headers:{"Content-Type":"application/json"}},t.next=7,re.a.post("https://my-ecommerce-web-application.vercel.app/order/neworder",e,r);case 7:s=t.sent,n=s.data,console.log("order Data",n),c({type:Nt,payload:n}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),c({type:wt,payload:t.t0.response.data.errMessage});case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e,c){return t.apply(this,arguments)}}()},cc=function(e){return function(){var t=Object(o.a)(d.a.mark((function t(c,a){var r,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("im in order details"),t.prev=1,c({type:Ct}),t.next=5,re.a.get("https://my-ecommerce-web-application.vercel.app/order/singleorder/".concat(e));case 5:r=t.sent,s=r.data,console.log("data",s),c({type:Rt,payload:s.order}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),c({type:Dt,payload:t.t0.response.data.errMessage});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,c){return t.apply(this,arguments)}}()},ac=function(){return function(){var e=Object(o.a)(d.a.mark((function e(t,c){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("im in order details"),e.prev=1,t({type:Pt}),e.next=5,re.a.get("https://my-ecommerce-web-application.vercel.app/order/admin/orders");case 5:a=e.sent,r=a.data,console.log("data",r),t({type:It,payload:r}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:Ut,payload:e.t0.response.data.errMessage});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,c){return e.apply(this,arguments)}}()},rc=function(){return function(){var e=Object(o.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Vt});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},sc=c(39),nc={style:{base:{fontSize:"16px"},invalid:{color:"#9e2146"}}},oc=function(e){var t=e.history,c=Object(O.d)(),a=Object(sc.useStripe)(),s=Object(sc.useElements)(),n=Object(p.b)(),l=Object(p.c)((function(e){return e.auth})).user,i=Object(p.c)((function(e){return e.cart})),j=i.cartItems,u=i.ShippingInfo,m=Object(p.c)((function(e){return e.order})).error,h={orderItems:j,ShippingInfo:u},x=JSON.parse(sessionStorage.getItem("orderInfo"));x&&(h.itemsPrice=x.itemPrice,h.shippingPrice=x.shippingPrice,h.taxPrice=x.taxPrice,h.totalPrice=x.totalPrice);var f={amount:Math.round(100*x.totalPrice)};Object(r.useEffect)((function(){m&&(c.error(m),n(rc()))}),[n,m,m]);var g=function(){var e=Object(o.a)(d.a.mark((function e(r){var o,i,j,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),console.log("amount",Math.round(100*x.totalPrice)),console.log("orderInfo",x),console.log("paymentData",f),console.log("im in submit handler"),document.querySelector("#pay_btn").disabled=!0,i={headers:{"Content-Type":"application/json"}},e.next=9,re.a.post("/user/payment",f,i);case 9:if(o=e.sent,console.log("res",o),j=o.data.client_secret,a&&s){e.next=14;break}return e.abrupt("return");case 14:return e.next=16,a.confirmCardPayment(j,{payment_method:{card:s.getElement(sc.CardNumberElement),billing_details:{name:l.name,email:l.email}}});case 16:u=e.sent,console.log("paymentIntent",u.paymentIntent),u.error?(console.log("im in result errpr"),c.error(u.error.message),document.querySelector("#pay_btn").disabled=!1):"succeeded"==u.paymentIntent.status?(h.paymentInfo={id:u.paymentIntent.id,status:u.paymentIntent.status},n(tc(h)),t.push("/success")):c.error("there is some issue while payment processing"),console.log(j);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(je,{title:"Payment"}),Object(b.jsx)(Xt,{shipping:!0,confirmOrder:!0,payment:!0}),Object(b.jsx)("div",{className:"row wrapper",children:Object(b.jsx)("div",{className:"col-10 col-lg-5",children:Object(b.jsxs)("form",{className:"shadow-lg",onSubmit:g,children:[Object(b.jsx)("h1",{className:"mb-4",children:"Card Info"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"card_num_field",children:"Card Number"}),Object(b.jsx)(sc.CardNumberElement,{type:"text",id:"card_num_field",className:"form-control",options:nc})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"card_exp_field",children:"Card Expiry"}),Object(b.jsx)(sc.CardExpiryElement,{type:"text",id:"card_exp_field",className:"form-control",options:nc})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"card_cvc_field",children:"Card CVC"}),Object(b.jsx)(sc.CardCvcElement,{type:"text",id:"card_cvc_field",className:"form-control",options:nc})]}),Object(b.jsxs)("button",{id:"pay_btn",type:"submit",className:"btn btn-block py-3",children:["Pay ","-".concat(x&&x.totalPrice)]})]})})})]})},lc=c(255),ic=function(){var e=Object(p.b)();return Object(r.useEffect)((function(){localStorage.removeItem("cartItems"),e({type:ot})}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(je,{title:"Order Success"}),Object(b.jsx)("div",{className:"row justify-content-center",children:Object(b.jsxs)("div",{className:"col-6 mt-5 text-center",children:[Object(b.jsx)("img",{className:"my-5 img-fluid d-block mx-auto",src:"/images/order_success.png",alt:"Order Success",width:"200",height:"200"}),Object(b.jsx)("h2",{children:"Your Order has been placed successfully."}),Object(b.jsx)(j.b,{to:"/orders/me",children:"Go to Orders"})]})})]})},dc=c(36),jc=function(){var e=Object(O.d)(),t=Object(p.b)(),c=Object(p.c)((function(e){return e.myOrders})),a=c.loading,s=c.error,n=c.orders;Object(r.useEffect)((function(){console.log("im in useEffect"),t(function(){var e=Object(o.a)(d.a.mark((function e(t,c){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("im in myorder"),e.prev=1,t({type:St}),e.next=5,re.a.get("https://my-ecommerce-web-application.vercel.app/order/myorders");case 5:a=e.sent,r=a.data,console.log("data",r),t({type:Et,payload:r.orders}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:_t,payload:e.t0.response.data.errMessage});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,c){return e.apply(this,arguments)}}()),s&&(e.error(s),t(rc())),console.log("im in list orders")}),[s,e,t]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(je,{title:"My Orders"}),Object(b.jsx)("h1",{className:"mt-5",children:"My Orders"}),a?Object(b.jsx)(ze,{}):Object(b.jsx)(dc.c,{data:function(){var e={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"Number Of Items",field:"numOfItems",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Actions",field:"actions",sort:"asc"}],rows:[]};return n.forEach((function(t){e.rows.push({id:t._id,numOfItems:t.orderItems.length,amount:"$".concat(t.totalPrice),status:t.orderStatus&&String(t.orderStatus).includes("Delivered")?Object(b.jsx)("p",{style:{color:"green"},children:t.orderStatus}):Object(b.jsx)("p",{style:{color:"red"},children:t.orderStatus}),actions:Object(b.jsx)(j.b,{to:"/order/".concat(t._id),className:"btn btn-primary",children:Object(b.jsx)("i",{className:"fa fa-eye"})})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})},uc=function(){return Object(b.jsx)("div",{className:"sidebar-wrapper",children:Object(b.jsx)("nav",{id:"sidebar",children:Object(b.jsxs)("ul",{className:"list-unstyled components",children:[Object(b.jsx)("li",{children:Object(b.jsxs)(j.b,{to:"/dashboard",children:[Object(b.jsx)("i",{className:"fa fa-tachometer"})," Dashboard"]})}),Object(b.jsxs)("li",{children:[Object(b.jsxs)("a",{href:"#productSubmenu","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:[Object(b.jsx)("i",{className:"fa fa-product-hunt"})," Products"]}),Object(b.jsxs)("ul",{className:"collapse list-unstyled",id:"productSubmenu",children:[Object(b.jsx)("li",{children:Object(b.jsxs)(j.b,{to:"/admin/products",children:[Object(b.jsx)("i",{className:"fa fa-clipboard"})," All"]})}),Object(b.jsx)("li",{children:Object(b.jsxs)(j.b,{to:"/admin/product",children:[Object(b.jsx)("i",{className:"fa fa-plus"})," Create"]})})]})]}),Object(b.jsx)("li",{children:Object(b.jsxs)(j.b,{to:"/admin/orders",children:[Object(b.jsx)("i",{className:"fa fa-shopping-basket"})," Orders"]})}),Object(b.jsx)("li",{children:Object(b.jsxs)(j.b,{to:"/admin/users",children:[Object(b.jsx)("i",{className:"fa fa-users"})," Users"]})}),Object(b.jsx)("li",{children:Object(b.jsxs)(j.b,{to:"/admin/reviews",children:[Object(b.jsx)("i",{className:"fa fa-star"})," Reviews"]})})]})})})},bc=function(e){var t=e.history,c=Object(O.d)(),a=Object(p.b)(),s=Object(p.c)((function(e){return e.products})),n=s.loading,l=s.error,i=s.products,u=Object(p.c)((function(e){return e.deleteProduct})),m=u.error,h=u.isDeleted;Object(r.useEffect)((function(){console.log("im in useEffect"),a(He()),l&&(c.error(l),a(Ye())),m&&(c.error(m),a(Ye())),h&&(c.success("Product Deleted Successfully"),a({type:Ue}),t.push("/admin/products")),console.log("im in list orders")}),[l,c,a,m,t,h]);var x=function(e){console.log("im in delete product handler"),console.log("id",e),a(function(e){return function(){var t=Object(o.a)(d.a.mark((function t(c){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("im in delete product action"),console.log("deletId",e),c({type:Ie}),t.next=6,re.a.delete("https://my-ecommerce-web-application.vercel.app/products/admin/deleteProduct/".concat(e));case 6:a=t.sent,r=a.data,console.log("newproductdata",r),c({type:Pe,payload:r.success}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),c({type:De,payload:t.t0.response.data.errMessage});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(je,{title:"All Products"}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-2",children:Object(b.jsx)(uc,{})}),Object(b.jsx)("div",{className:"col-12 col-md-10",children:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"my-5",children:"All Products"}),n?Object(b.jsx)(ze,{}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(dc.c,{data:function(){var e={columns:[{label:"ID",field:"id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Price",field:"price",sort:"asc"},{label:"Stock",field:"stock",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return i.forEach((function(t){e.rows.push({id:t._id,name:t.name,price:"$".concat(t.price),stock:t.stock,status:t.productStatus&&String(t.productStatus).includes("Delivered")?Object(b.jsx)("p",{style:{color:"green"},children:t.productStatus}):Object(b.jsx)("p",{style:{color:"red"},children:t.productStatus}),actions:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(j.b,{to:"/admin/product/".concat(t._id),className:"btn btn-primary",children:Object(b.jsx)("i",{className:"fa fa-pencil"})}),Object(b.jsx)("button",{onClick:function(){return x(t._id)},className:"btn btn-danger py-1 px-2 ml-2",children:Object(b.jsx)("i",{className:"fa fa-trash"})})]})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})})]})})]})]})},mc=function(e){var t=e.match;console.log("im in oreder details");var c=Object(p.c)((function(e){return e.orderDetails})),a=c.error,s=c.loading,n=c.order,o=void 0===n?{}:n;console.log("order",o);var l=o.ShippingInfo,i=o.orderItems,d=o.paymentInfo,u=o.user,m=o.totalPrice,O=o.orderStatus,h=Object(p.b)();Object(r.useEffect)((function(){console.log("im in useEffect"),h(cc(t.params.id)),a&&(alert.error(a),h(rc())),console.log("im in list orders")}),[a,alert,h,t.params.id]);var x=l&&"".concat(l.address,",").concat(l.city,",").concat(l.postalCode,",").concat(l.country),f=!(!d||"succeeded"!=d.status);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(je,{title:"Order Details"}),s?Object(b.jsx)(ze,{}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"row d-flex justify-content-between",children:Object(b.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-details",children:[Object(b.jsxs)("h1",{className:"my-5",children:["Order # ",o._id]}),Object(b.jsx)("h4",{className:"mb-4",children:"Shipping Info"}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Name:"})," ",u&&u.name]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Phone:"})," ",l&&l.phoneNo]}),Object(b.jsxs)("p",{className:"mb-4",children:[Object(b.jsx)("b",{children:"Address:"}),x]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Amount:"})," ",m]}),Object(b.jsx)("hr",{}),Object(b.jsx)("h4",{className:"my-4",children:"Payment"}),Object(b.jsx)("p",{className:f?"greenColor":"redColor",children:Object(b.jsx)("b",{children:f?"PAID":"NOT PAID"})}),Object(b.jsx)("h4",{className:"my-4",children:"Order Status:"}),Object(b.jsx)("p",{className:O&&String(O).includes("Delivered")?"greenColor":"redColor",children:Object(b.jsx)("b",{children:o.orderStatus})}),Object(b.jsx)("h4",{className:"my-4",children:"Order Items:"}),Object(b.jsx)("hr",{}),Object(b.jsx)("div",{className:"cart-item my-1",children:i&&i.map((function(e){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"row my-5",children:[Object(b.jsx)("div",{className:"col-4 col-lg-2",children:Object(b.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object(b.jsx)("div",{className:"col-5 col-lg-5",children:Object(b.jsx)(j.b,{to:"/products/".concat(e.product),children:e.name})}),Object(b.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(b.jsxs)("p",{children:["$",e.price]})}),Object(b.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(b.jsxs)("p",{children:[e.quantity," Piece(s)"]})})]},e.product)})}))}),Object(b.jsx)("hr",{})]})})})]})},pc=function(e){var t=e.history,c=Object(r.useState)(""),a=Object(l.a)(c,2),s=a[0],n=a[1],i=Object(r.useState)(0),j=Object(l.a)(i,2),u=j[0],m=j[1],h=Object(r.useState)(""),x=Object(l.a)(h,2),f=x[0],g=x[1],v=Object(r.useState)(""),y=Object(l.a)(v,2),N=y[0],w=y[1],S=Object(r.useState)(0),E=Object(l.a)(S,2),_=E[0],C=E[1],R=Object(r.useState)(""),D=Object(l.a)(R,2),P=D[0],I=D[1],U=Object(r.useState)([]),F=Object(l.a)(U,2),A=F[0],k=F[1],T=Object(r.useState)([]),L=Object(l.a)(T,2),M=L[0],W=L[1],Q=Object(O.d)(),V=Object(p.b)(),q=Object(p.c)((function(e){return e.newProduct})),$=q.loading,G=q.error,B=q.success;Object(r.useEffect)((function(){G&&(Q.error(G),V(Ye())),B&&(t.push("/admin/products"),Q.success("Product Created Successfully"),V({type:Re})),console.log("im in list orders")}),[G,Q,B,t,V]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(je,{title:"New Product"}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-2",children:Object(b.jsx)(uc,{})}),Object(b.jsx)("div",{className:"col-12 col-md-10",children:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"wrapper my-5",children:Object(b.jsxs)("form",{onSubmit:function(e){console.log("im in submit handler"),e.preventDefault();var t,c=new FormData;c.set("name",s),c.set("price",u),c.set("description",f),c.set("category",N),c.set("stock",_),c.set("seller",P),A.forEach((function(e){c.append("images",e)})),console.log("formData",c),V((t=c,function(){var e=Object(o.a)(d.a.mark((function e(c){var a,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("product data",t),c({type:Ce}),a={headers:{"Content-Type":"application/json"}},e.next=6,re.a.post("https://my-ecommerce-web-application.vercel.app/products/admin/createProduct",t,a);case 6:r=e.sent,s=r.data,console.log("newproductdata",s),c({type:_e,payload:s}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),c({type:Ee,payload:e.t0.response.data.errMessage});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()))},className:"shadow-lg",encType:"multipart/form-data",children:[Object(b.jsx)("h1",{className:"mb-4",children:"New Product"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(b.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"price_field",children:"Price"}),Object(b.jsx)("input",{type:"text",id:"price_field",className:"form-control",value:u,onChange:function(e){return m(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"description_field",children:"Description"}),Object(b.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",value:f,onChange:function(e){return g(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"category_field",children:"Category"}),Object(b.jsx)("select",{className:"form-control",id:"category_field",value:N,onChange:function(e){return w(e.target.value)},children:["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","outdoor","Home"].map((function(e){return Object(b.jsx)("option",{value:e,children:e},e)}))})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"stock_field",children:"Stock"}),Object(b.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:_,onChange:function(e){return C(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"seller_field",children:"Seller Name"}),Object(b.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:P,onChange:function(e){return I(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Images"}),Object(b.jsxs)("div",{className:"custom-file",children:[Object(b.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",onChange:function(e){var t=Array.from(e.target.files);W([]),k([]),t.forEach((function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(console.log("reader",t.result),W((function(e){return[].concat(Object(vt.a)(e),[t.result])})),k((function(e){return[].concat(Object(vt.a)(e),[t.result])})))},t.readAsDataURL(e)}))},multiple:!0}),Object(b.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Images"})]}),M.map((function(e){return Object(b.jsx)("img",{src:e,alt:"Images Preview",className:"mt-3 mr-2",width:"55",height:"52"},e)}))]}),Object(b.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:!!$,children:"CREATE"})]})})})})]})]})},Oc=function(e){var t=e.match,c=e.history,a=Object(r.useState)(""),s=Object(l.a)(a,2),n=s[0],i=s[1],j=Object(r.useState)(0),u=Object(l.a)(j,2),m=u[0],h=u[1],x=Object(r.useState)(""),f=Object(l.a)(x,2),g=f[0],v=f[1],y=Object(r.useState)(""),N=Object(l.a)(y,2),w=N[0],S=N[1],E=Object(r.useState)(0),_=Object(l.a)(E,2),C=_[0],R=_[1],D=Object(r.useState)(""),P=Object(l.a)(D,2),I=P[0],U=P[1],F=Object(r.useState)([]),A=Object(l.a)(F,2),k=A[0],T=A[1],L=Object(r.useState)([]),M=Object(l.a)(L,2),W=M[0],Q=M[1],V=Object(r.useState)([]),q=Object(l.a)(V,2),$=q[0],G=q[1],B=Object(O.d)(),H=Object(p.b)(),J=Object(p.c)((function(e){return e.productDetails})),Y=J.error,z=J.product,K=Object(p.c)((function(e){return e.deleteProduct})),X=K.loading,Z=K.error,ee=K.isUpdated,te=t.params.id;Object(r.useEffect)((function(){z&&z._id!==te?(console.log(z._id,te),console.log("im here"),H(Be(te))):(i(z.name),h(z.price),v(z.description),S(z.category),U(z.seller),R(z.stock),Q(z.images)),Y&&(B.error(Y),H(Ye())),Z&&(B.error(Z),H(Ye())),ee&&(c.push("/admin/products"),B.success("Product Updated Successfully"),H({type:We})),console.log("im in list orders")}),[Y,B,ee,c,H,z,te]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(je,{title:"Update Product"}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-2",children:Object(b.jsx)(uc,{})}),Object(b.jsx)("div",{className:"col-12 col-md-10",children:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"wrapper my-5",children:Object(b.jsxs)("form",{onSubmit:function(e){console.log("im in submit handler"),console.log("seller",I),e.preventDefault();var t,c,a=new FormData;a.set("name",n),a.set("price",m),a.set("description",g),a.set("category",w),a.set("stock",C),a.set("seller",I),k.forEach((function(e){a.append("images",e)})),console.log("formData",a),console.log("id",z._id),H((t=z._id,c=a,function(){var e=Object(o.a)(d.a.mark((function e(a){var r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:Me}),e.next=4,re.a.put("https://my-ecommerce-web-application.vercel.app/products/admin/updateProduct/".concat(t),c);case 4:r=e.sent,s=r.data,console.log("newproductdata",s),a({type:Le,payload:s.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:Te,payload:e.t0.response.data.errMessage});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},className:"shadow-lg",encType:"multipart/form-data",children:[Object(b.jsx)("h1",{className:"mb-4",children:"Update Product"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(b.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:n,onChange:function(e){return i(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"price_field",children:"Price"}),Object(b.jsx)("input",{type:"text",id:"price_field",className:"form-control",value:m,onChange:function(e){return h(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"description_field",children:"Description"}),Object(b.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",value:g,onChange:function(e){return v(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"category_field",children:"Category"}),Object(b.jsx)("select",{className:"form-control",id:"category_field",value:w,onChange:function(e){return S(e.target.value)},children:["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","outdoor","Home"].map((function(e){return Object(b.jsx)("option",{value:e,children:e},e)}))})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"stock_field",children:"Stock"}),Object(b.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:C,onChange:function(e){return R(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"seller_field",children:"Seller Name"}),Object(b.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:I,onChange:function(e){return U(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Images"}),Object(b.jsxs)("div",{className:"custom-file",children:[Object(b.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",onChange:function(e){var t=Array.from(e.target.files);G([]),T([]),Q([]),t.forEach((function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(console.log("reader",t.result),G((function(e){return[].concat(Object(vt.a)(e),[t.result])})),T((function(e){return[].concat(Object(vt.a)(e),[t.result])})))},t.readAsDataURL(e)}))},multiple:!0}),Object(b.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Images"})]}),W&&W.map((function(e){return Object(b.jsx)("img",{src:e.url,alt:e.url,className:"mt-3 mr-2",width:"55",height:"52"},e)})),$.map((function(e){return Object(b.jsx)("img",{src:e,alt:"Images Preview",className:"mt-3 mr-2",width:"55",height:"52"},e)}))]}),Object(b.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:!!X,children:"UPDATE"})]})})})})]})]})},hc=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.products})).products,c=Object(p.c)((function(e){return e.allUsers})).users,a=Object(p.c)((function(e){return e.allOrder})),s=a.orders,n=a.loading,o=a.amount;Object(r.useEffect)((function(){e(He()),e(ac()),e(ne())}),[e]);var l=0;return t.forEach((function(e){0==e.stock&&(l+=1)})),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-2",children:Object(b.jsx)(uc,{})}),Object(b.jsxs)("div",{className:"col-12 col-md-10",children:[Object(b.jsx)("h1",{className:"my-4",children:"Dashboard"}),n?Object(b.jsx)(ze,{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(je,{title:"Admin Dashboard"}),Object(b.jsx)("div",{className:"row pr-4",children:Object(b.jsx)("div",{className:"col-xl-12 col-sm-12 mb-3",children:Object(b.jsx)("div",{className:"card text-white bg-primary o-hidden h-100",children:Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("div",{className:"text-center card-font-size",children:["Total Amount",Object(b.jsx)("br",{})," ",Object(b.jsxs)("b",{children:["$",o]})]})})})})}),Object(b.jsxs)("div",{className:"row pr-4",children:[Object(b.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(b.jsxs)("div",{className:"card text-white bg-success o-hidden h-100",children:[Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("div",{className:"text-center card-font-size",children:["Products",Object(b.jsx)("br",{})," ",Object(b.jsx)("b",{children:t&&t.length})]})}),Object(b.jsxs)(j.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/products",children:[Object(b.jsx)("span",{className:"float-left",children:"View Details"}),Object(b.jsx)("span",{className:"float-right",children:Object(b.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(b.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(b.jsxs)("div",{className:"card text-white bg-danger o-hidden h-100",children:[Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("div",{className:"text-center card-font-size",children:["Orders",Object(b.jsx)("br",{})," ",Object(b.jsx)("b",{children:s&&s.length})]})}),Object(b.jsxs)(j.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/orders",children:[Object(b.jsx)("span",{className:"float-left",children:"View Details"}),Object(b.jsx)("span",{className:"float-right",children:Object(b.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(b.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(b.jsxs)("div",{className:"card text-white bg-info o-hidden h-100",children:[Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("div",{className:"text-center card-font-size",children:["Users",Object(b.jsx)("br",{})," ",Object(b.jsx)("b",{children:c&&c.length})]})}),Object(b.jsxs)(j.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/users",children:[Object(b.jsx)("span",{className:"float-left",children:"View Details"}),Object(b.jsx)("span",{className:"float-right",children:Object(b.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(b.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(b.jsx)("div",{className:"card text-white bg-warning o-hidden h-100",children:Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("div",{className:"text-center card-font-size",children:["Out of Stock",Object(b.jsx)("br",{})," ",Object(b.jsx)("b",{children:l})]})})})})]})]})]})]})},xc=function(e){var t=e.history,c=Object(O.d)(),a=Object(p.b)(),s=Object(p.c)((function(e){return e.allOrder})),n=s.loading,l=s.error,i=s.orders,u=Object(p.c)((function(e){return e.updateOrder})).isDeleted;Object(r.useEffect)((function(){console.log("im in useEffect"),a(ac()),l&&(c.error(l),a(rc())),console.log("isDeleted",u),u&&(c.success("Order deleted successfully"),t.push("/admin/orders"),a({type:Wt}))}),[l,c,a,u,t]);var m=function(e){a(function(e){return function(){var t=Object(o.a)(d.a.mark((function t(c){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Lt}),t.next=4,re.a.delete("https://my-ecommerce-web-application.vercel.app/order/admin/orders/".concat(e));case 4:a=t.sent,r=a.data,console.log("deleteData",r.success),c({type:Mt,payload:r.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:Qt,payload:t.t0.response.data.errMessage});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(je,{title:"All Orders"}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-2",children:Object(b.jsx)(uc,{})}),Object(b.jsx)("div",{className:"col-12 col-md-10",children:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"my-5",children:"All Orders"}),n?Object(b.jsx)(ze,{}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(dc.c,{data:function(){var e={columns:[{label:"order ID",field:"id",sort:"asc"},{label:"Num of Items",field:"numOfItems",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return i.forEach((function(t){e.rows.push({id:t._id,numOfItems:t.orderItems.length,amount:"$".concat(t.totalPrice),status:t.orderStatus&&String(t.orderStatus).includes("Delivered")?Object(b.jsx)("p",{style:{color:"green"},children:t.orderStatus}):Object(b.jsx)("p",{style:{color:"red"},children:t.orderStatus}),actions:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(j.b,{to:"/admin/order/".concat(t._id),className:"btn btn-primary",children:Object(b.jsx)("i",{className:"fa fa-eye"})}),Object(b.jsx)("button",{onClick:function(){return m(t._id)},className:"btn btn-danger py-1 px-2 ml-2",children:Object(b.jsx)("i",{className:"fa fa-trash"})})]})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})})]})})]})]})},fc=function(e){var t=e.match,c=Object(r.useState)(""),a=Object(l.a)(c,2),s=a[0],n=a[1],i=Object(O.d)(),u=Object(p.b)(),m=Object(p.c)((function(e){return e.orderDetails})),h=m.loading,x=m.order,f=void 0===x?{}:x,g=f.ShippingInfo,v=f.orderItems,y=f.paymentInfo,N=f.User,w=f.totalPrice,S=f.orderStatus,E=Object(p.c)((function(e){return e.updateOrder})),_=E.error,C=E.isUpdated,R=t.params.id;Object(r.useEffect)((function(){u(cc(R)),_&&(i.error(_),u(rc())),C&&(i.success("Order Updated Successfully"),u({type:Tt})),console.log("im in list orders")}),[u,i,_,C,R]);var D=function(e){var t=new FormData;t.set("status",s),console.log("formData",t),console.log("id",e),u(function(e,t){return function(){var c=Object(o.a)(d.a.mark((function c(a,r){var s,n,o;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:Ft}),s={headers:{"Content-Type":"application/json"}},c.next=5,re.a.put("https://my-ecommerce-web-application.vercel.app/order/admin/orders/".concat(e),t,s);case 5:n=c.sent,o=n.data,console.log("updateData",o),a({type:At,payload:o.success}),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(0),a({type:kt,payload:c.t0.response.data.errMessage});case 14:case"end":return c.stop()}}),c,null,[[0,11]])})));return function(e,t){return c.apply(this,arguments)}}()}(e,t))},P=g&&"".concat(g.address,",").concat(g.city,",").concat(g.postalCode,",").concat(g.country),I=!(!y||"succeeded"!=y.status);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(je,{title:"Process Order # ".concat(f._id)}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-2",children:Object(b.jsx)(uc,{})}),Object(b.jsx)("div",{className:"col-12 col-md-10",children:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"my-5",children:"All Orders"}),h?Object(b.jsx)(ze,{}):Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"row d-flex justify-content-around",children:[Object(b.jsxs)("div",{className:"col-12 col-lg-7 order-details",children:[Object(b.jsxs)("h1",{className:"my-5",children:["Order # ",f._id]}),Object(b.jsx)("h4",{className:"mb-4",children:"Shipping Info"}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Name:"})," ",N&&N.name]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Phone:"})," ",g&&g.phoneNo]}),Object(b.jsxs)("p",{className:"mb-4",children:[Object(b.jsx)("b",{children:"Address:"}),P]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Amount:"})," $",w]}),Object(b.jsx)("hr",{}),Object(b.jsx)("h4",{className:"my-4",children:"Payment"}),Object(b.jsx)("p",{className:I?"greenColor":"redColor",children:Object(b.jsx)("b",{children:I?"PAID":"NOT PAID"})}),Object(b.jsx)("h4",{className:"my-4",children:"Stripe ID"}),Object(b.jsx)("p",{className:"greenColor",children:Object(b.jsx)("b",{children:y&&y.id})}),Object(b.jsx)("h4",{className:"my-4",children:"Order Status:"}),Object(b.jsx)("p",{className:f.orderStatus&&String(f.orderStatus).includes("Delivered")?"greenColor":"redColor",children:Object(b.jsx)("b",{children:S})}),Object(b.jsx)("h4",{className:"my-4",children:"Order Items:"}),Object(b.jsx)("hr",{}),Object(b.jsx)("div",{className:"cart-item my-1",children:v&&v.map((function(e){return Object(b.jsxs)("div",{className:"row my-5",children:[Object(b.jsx)("div",{className:"col-4 col-lg-2",children:Object(b.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object(b.jsx)("div",{className:"col-5 col-lg-5",children:Object(b.jsx)(j.b,{to:"/products/".concat(e.product),children:e.name})}),Object(b.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(b.jsx)("p",{children:e.price})}),Object(b.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(b.jsxs)("p",{children:[e.quantity," Piece(s)"]})})]})}))}),Object(b.jsx)("hr",{})]}),Object(b.jsxs)("div",{className:"col-12 col-lg-3 mt-5",children:[Object(b.jsx)("h4",{className:"my-4",children:"Status"}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsxs)("select",{className:"form-control",name:"status",value:s,onChange:function(e){return n(e.target.value)},children:[Object(b.jsx)("option",{value:"Processing",children:"Processing"}),Object(b.jsx)("option",{value:"Shipped",children:"Shipped"}),Object(b.jsx)("option",{value:"Delivered",children:"Delivered"})]})}),Object(b.jsx)("button",{className:"btn btn-primary btn-block",onClick:function(){return D(f._id)},children:"Update Status"})]})]})})]})})]})]})},gc=function(e){var t=e.history,c=Object(O.d)(),a=Object(p.b)(),s=Object(p.c)((function(e){return e.allUsers})),n=s.loading,l=s.error,i=s.users,u=Object(p.c)((function(e){return e.user})).isDeleted;console.log("final deleted",u),Object(r.useEffect)((function(){console.log("im in useEffect"),a(ne()),l&&(c.error(l),a(oe())),u&&(c.success("User deleted successfully"),t.push("/admin/users"),a({type:te}))}),[l,c,a,u,t]);var m=function(e){a(function(e){return function(){var t=Object(o.a)(d.a.mark((function t(c){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("im in delete user"),console.log("id",e),t.prev=2,c({type:Z}),t.next=6,re.a.delete("https://my-ecommerce-web-application.vercel.app/auth/admin/user/".concat(e));case 6:a=t.sent,r=a.data,console.log("deleteData",r),c({type:ee,payload:r.success}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),c({type:ce,payload:t.t0.response.data.errMessage});case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(je,{title:"All Users"}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-2",children:Object(b.jsx)(uc,{})}),Object(b.jsx)("div",{className:"col-12 col-md-10",children:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"my-5",children:"All Users"}),n?Object(b.jsx)(ze,{}):Object(b.jsx)(dc.c,{data:function(){var e={columns:[{label:"user ID",field:"id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Email",field:"email",sort:"asc"},{label:"Role",field:"role",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return i.forEach((function(t){e.rows.push({id:t._id,name:t.name,email:t.email,role:t.role,actions:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(j.b,{to:"/admin/user/".concat(t._id),className:"btn btn-primary",children:Object(b.jsx)("i",{className:"fa fa-pencil"})}),Object(b.jsx)("button",{onClick:function(){return m(t._id)},className:"btn btn-danger py-1 px-2 ml-2",children:Object(b.jsx)("i",{className:"fa fa-trash"})})]})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})})]})]})},vc=function(e){var t=e.history,c=e.match,a=Object(r.useState)(""),s=Object(l.a)(a,2),n=s[0],i=s[1],j=Object(r.useState)(""),u=Object(l.a)(j,2),m=u[0],h=u[1],x=Object(r.useState)(""),f=Object(l.a)(x,2),g=f[0],v=f[1],y=Object(O.d)(),N=Object(p.b)(),w=Object(p.c)((function(e){return e.user})),S=w.error,E=w.isUpdated,_=Object(p.c)((function(e){return e.userDetails})).user,C=c.params.id;Object(r.useEffect)((function(){var e;console.log(_&&_._id!==C),_&&_._id!==C?N((e=C,function(){var t=Object(o.a)(d.a.mark((function t(c){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:z}),t.next=4,re.a.get("https://my-ecommerce-web-application.vercel.app/auth/admin/user/".concat(e));case 4:a=t.sent,r=a.data,c({type:K,payload:r.user}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:X,payload:t.t0.response.data.errMessage});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())):(i(_.name),h(_.email),v(_.role)),S&&(y.error(S),N(oe())),E&&(y.success("User updated successfully"),t.push("/admin/users"),N({type:Y}))}),[N,y,S,t,E,C,_]);return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(je,{title:"Update User"}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-2",children:Object(b.jsx)(uc,{})}),Object(b.jsx)("div",{className:"col-12 col-md-10",children:Object(b.jsx)("div",{className:"row wrapper",children:Object(b.jsx)("div",{className:"col-10 col-lg-5",children:Object(b.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c,a=new FormData;a.set("name",n),a.set("email",m),a.set("role",g),N((t=_._id,c=a,function(){var e=Object(o.a)(d.a.mark((function e(a){var r,s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:B}),r={headers:{"Content-Type":"application/json"}},e.next=5,re.a.put("https://my-ecommerce-web-application.vercel.app/auth/admin/user/".concat(t),c,r);case 5:s=e.sent,n=s.data,a({type:H,payload:n.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:J,payload:e.t0.response.data.errMessage});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(b.jsx)("h1",{className:"mt-2 mb-5",children:"Update User"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(b.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:n,onChange:function(e){return i(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(b.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:m,onChange:function(e){return h(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"role_field",children:"Role"}),Object(b.jsxs)("select",{id:"role_field",className:"form-control",name:"role",value:g,onChange:function(e){return v(e.target.value)},children:[Object(b.jsx)("option",{value:"user",children:"user"}),Object(b.jsx)("option",{value:"admin",children:"admin"})]})]}),Object(b.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",children:"Update"})]})})})})]})]})},yc=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1],s=Object(O.d)(),n=Object(p.b)(),i=Object(p.c)((function(e){return e.productReviews})),j=i.error,u=i.reviews,m=Object(p.c)((function(e){return e.review})),h=m.isDeleted,x=m.error;console.log("reviews",u),Object(r.useEffect)((function(){j&&(s.error(j),n(Ye())),x&&(s.error(x),n(Ye())),""!==c&&n(Je(c)),h&&(s.success("Review deleted successfully"),n({type:qe}))}),[n,s,j,c,h,x]);var f=function(e){n(function(e,t){return function(){var c=Object(o.a)(d.a.mark((function c(a){var r,s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:Qe}),c.next=4,re.a.delete("https://my-ecommerce-web-application.vercel.app/products/review?id=".concat(e,"&productId=").concat(t));case 4:r=c.sent,s=r.data,a({type:Ve,payload:s.success}),c.next=13;break;case 9:c.prev=9,c.t0=c.catch(0),console.log(c.t0.response),a({type:$e,payload:c.t0.response.data.errMessage});case 13:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(e){return c.apply(this,arguments)}}()}(e,c))};return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(je,{title:"Product Reviews"}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-12 col-md-2",children:Object(b.jsx)(uc,{})}),Object(b.jsx)("div",{className:"col-12 col-md-10",children:Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)("div",{className:"row justify-content-center mt-5",children:Object(b.jsx)("div",{className:"col-5",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("im in submit handler"),n(Je(c))},children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"productId_field",children:"Enter Product ID"}),Object(b.jsx)("input",{type:"text",id:"productId_field",className:"form-control",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(b.jsx)("button",{id:"search_button",type:"submit",className:"btn btn-primary btn-block py-2",children:"SEARCH"})]})})}),u&&u.length>0?Object(b.jsx)(dc.c,{data:function(){var e={columns:[{label:"Review ID",field:"id",sort:"asc"},{label:"Rating",field:"rating",sort:"asc"},{label:"Comment",field:"comment",sort:"asc"},{label:"User",field:"user",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return u.forEach((function(t){console.log(t),console.log(t.rating),e.rows.push({id:t._id,rating:t.rating,comment:t.comment,user:t.name,actions:Object(b.jsx)("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return f(t._id)},children:Object(b.jsx)("i",{className:"fa fa-trash"})})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0}):Object(b.jsx)("p",{className:"mt-5 text-center",children:"No Reviews."})]})})]})]})};var Nc=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1];Object(r.useEffect)((function(){function e(){return(e=Object(o.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("https://my-ecommerce-web-application.vercel.app/user/payment/stripeApi");case 2:t=e.sent,c=t.data,console.log("stripeData",c),a(c.stripeApiKey);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log("im here"),Bt.dispatch(se()),function(){e.apply(this,arguments)}()}),[]);var s=Object(p.c)((function(e){return e.auth})),n=s.user,i=s.isAuthenticated,m=s.loading;return Object(b.jsx)(j.a,{children:Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(le,{}),Object(b.jsxs)("div",{className:"container container-fluid",children:[Object(b.jsx)(u.b,{path:"/",component:tt,exact:!0}),Object(b.jsx)(u.b,{path:"/search/:keyword",component:tt,exact:!0}),Object(b.jsx)(u.b,{path:"/product/:id",component:it,exact:!0}),Object(b.jsx)(u.b,{path:"/cart",component:zt,exact:!0}),Object(b.jsx)(bt,{path:"/shipping",component:Zt,exact:!0}),Object(b.jsx)(bt,{path:"/confirm",exact:!0,component:ec}),Object(b.jsx)(bt,{path:"/success",component:ic,exact:!0}),c&&Object(b.jsx)(sc.Elements,{stripe:Object(lc.a)(c),children:Object(b.jsx)(bt,{path:"/payment",component:oc})}),Object(b.jsx)(u.b,{path:"/login",component:mt,exact:!0}),Object(b.jsx)(u.b,{path:"/register",component:ht,exact:!0}),Object(b.jsx)(u.b,{path:"/password/forgot",component:Jt,exact:!0}),Object(b.jsx)(u.b,{path:"/password/reset/:token",component:Yt,exact:!0}),Object(b.jsx)(bt,{path:"/me",component:dt,exact:!0}),Object(b.jsx)(bt,{path:"/me/update",component:pt,exact:!0}),Object(b.jsx)(bt,{path:"/me/password",component:Ht,exact:!0}),Object(b.jsx)(bt,{path:"/orders/me",component:jc,exact:!0}),Object(b.jsx)(bt,{path:"/order/:id",component:mc,exact:!0})]}),Object(b.jsx)(bt,{path:"/dashboard",isAdmin:!0,component:hc,exact:!0}),Object(b.jsx)(bt,{path:"/admin/products",component:bc,exact:!0}),Object(b.jsx)(bt,{path:"/admin/product",component:pc,exact:!0}),Object(b.jsx)(bt,{path:"/admin/orders",component:xc,exact:!0}),Object(b.jsx)(bt,{path:"/admin/product/:id",component:Oc,exact:!0}),Object(b.jsx)(bt,{path:"/admin/order/:id",component:fc,exact:!0}),Object(b.jsx)(bt,{path:"/admin/users",component:gc,exact:!0}),Object(b.jsx)(bt,{path:"/admin/user/:id",isAdmin:!0,component:vc,exact:!0}),Object(b.jsx)(bt,{path:"/admin/reviews",isAdmin:!0,component:yc,exact:!0}),!m&&(!i||"admin"!==n.role)&&Object(b.jsx)(ie,{})]})})},wc=c(260),Sc={timeout:5e3,positions:O.b.BOTTOM_CENTER,transition:O.c.SCALE};n.a.render(Object(b.jsx)(p.a,{store:Bt,children:Object(b.jsx)(O.a,Object(a.a)(Object(a.a)({template:wc.a},Sc),{},{children:Object(b.jsx)(Nc,{})}))}),document.getElementById("root"))}},[[586,1,2]]]);
//# sourceMappingURL=main.28bce1a8.chunk.js.map